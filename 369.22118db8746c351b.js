"use strict";(self.webpackChunkhelena=self.webpackChunkhelena||[]).push([[369],{2369:(_e,Ze,W)=>{W.r(Ze),W.d(Ze,{HomeModule:()=>Xe});var ae=W(6895),ge=W(9132),g=W(727),e=W(4650),I=W(533),A=W(1323),C=W(671),L=W(3470),te=W(2112),Z=W.n(te),u=W(6308),q=W(2589),v=W.n(q),f=W(4737),F=W.n(f),b=W(4006),B=W(4750),se=W(9549),Ae=W(4385),ye=W(3238),Te=W(9602),ce=W(266),k=W(4069),n=W(2731),r=W(42),s=W(3081);const a=["containerCommodityChart"];function p(i,m){if(1&i&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&i){const t=m.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function h(i,m){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Invalid start date")," "))}function w(i,m){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Invalid end date")," "))}function U(i,m){1&i&&(e.TgZ(0,"th",41)(1,"span",42),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Name")))}function E(i,m){if(1&i&&(e.TgZ(0,"td",43)(1,"div",6),e._UZ(2,"i"),e.ALo(3,"lowercase"),e.TgZ(4,"span",44),e._uU(5),e.qZA()()()),2&i){const t=m.$implicit;e.xp6(2),e.Gre("icns icon-",e.lcZ(3,4,null==t?null:t.commodity_name)," d30 mrgn3"),e.xp6(3),e.Oqu(null==t?null:t.commodity_name)}}function M(i,m){1&i&&(e.TgZ(0,"th",41)(1,"span",42),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Start Price")))}function T(i,m){if(1&i&&(e.TgZ(0,"td",43)(1,"span",44),e._uU(2),e.qZA()()),2&i){const t=m.$implicit;e.xp6(2),e.hij("$ ",null==t?null:t.start_price,"")}}function Q(i,m){1&i&&(e.TgZ(0,"th",41)(1,"span",42),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"End Price")))}function V(i,m){if(1&i&&(e.TgZ(0,"td",43)(1,"span",44),e._uU(2),e.qZA()()),2&i){const t=m.$implicit;e.xp6(2),e.hij("$ ",null==t?null:t.end_price,"")}}function z(i,m){1&i&&(e.TgZ(0,"th",41)(1,"span",42),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Change in Price")))}function J(i,m){if(1&i&&(e.TgZ(0,"td",43)(1,"span",44),e._uU(2),e.qZA()()),2&i){const t=m.$implicit;e.xp6(2),e.hij("$ ",null==t?null:t.change_price,"")}}function X(i,m){1&i&&(e.TgZ(0,"th",41)(1,"span",42),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Percentage")))}function $(i,m){if(1&i&&(e.TgZ(0,"td",43)(1,"span",44),e._uU(2),e.qZA()()),2&i){const t=m.$implicit;e.xp6(2),e.hij("",null==t?null:t.change_percentage,"%")}}function H(i,m){1&i&&(e.TgZ(0,"th",41)(1,"span",42),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Metric")))}function j(i,m){if(1&i&&(e.TgZ(0,"td",43)(1,"span",44),e._uU(2),e.qZA()()),2&i){const t=m.$implicit;e.xp6(2),e.Oqu(null==t?null:t.commodity_metric)}}function O(i,m){1&i&&e._UZ(0,"tr",45)}function ie(i,m){1&i&&e._UZ(0,"tr",46)}function Y(i,m){1&i&&(e.TgZ(0,"div",47),e._UZ(1,"app-empty-state",48),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Q6J("message",e.lcZ(2,2,"Commodity and stock information is not available at this time. Please check back later."))("className","d240 icon-common-no-data"))}function le(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"div")(2,"form",13,14)(4,"mat-form-field",15)(5,"mat-label",16),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"mat-select",17,18),e.NdJ("selectionChange",function(){e.CHM(t);const x=e.oxw();return e.KtG(x.onCompareCommoditiesFilter())}),e.YNc(10,p,2,2,"mat-option",19),e.qZA()(),e._UZ(11,"div",20),e.TgZ(12,"mat-form-field",15)(13,"mat-label",16),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"mat-date-range-input",21),e._UZ(17,"input",22),e.TgZ(18,"input",23),e.NdJ("dateChange",function(){e.CHM(t);const x=e.oxw();return e.KtG(x.dateChangeTableSectionCTA())}),e.qZA()(),e._UZ(19,"mat-datepicker-toggle",24)(20,"mat-date-range-picker",null,25),e.YNc(22,h,3,3,"mat-error",26),e.YNc(23,w,3,3,"mat-error",26),e.qZA(),e._UZ(24,"div",20),e.qZA()(),e.TgZ(25,"div",27)(26,"table",28),e.ynx(27,29),e.YNc(28,U,4,3,"th",30),e.YNc(29,E,6,6,"td",31),e.BQk(),e.ynx(30,32),e.YNc(31,M,4,3,"th",30),e.YNc(32,T,3,1,"td",31),e.BQk(),e.ynx(33,33),e.YNc(34,Q,4,3,"th",30),e.YNc(35,V,3,1,"td",31),e.BQk(),e.ynx(36,34),e.YNc(37,z,4,3,"th",30),e.YNc(38,J,3,1,"td",31),e.BQk(),e.ynx(39,35),e.YNc(40,X,4,3,"th",30),e.YNc(41,$,3,1,"td",31),e.BQk(),e.ynx(42,36),e.YNc(43,H,4,3,"th",30),e.YNc(44,j,3,1,"td",31),e.BQk(),e.YNc(45,O,1,0,"tr",37),e.YNc(46,ie,1,0,"tr",38),e.qZA(),e.YNc(47,Y,3,4,"div",39),e.qZA()()}if(2&i){const t=e.MAs(21),o=e.oxw();e.xp6(2),e.Q6J("formGroup",o.compareCommoditiesFormGroup),e.xp6(4),e.Oqu(e.lcZ(7,15,"Commodity")),e.xp6(4),e.Q6J("ngForOf",null==o.appStore||null==o.appStore.envConfigs?null:o.appStore.envConfigs.commodities),e.xp6(4),e.hij("",e.lcZ(15,17,"Enter a date range")," "),e.xp6(2),e.Q6J("rangePicker",t)("max",o.maxDate)("min",o.minDate),e.xp6(3),e.Q6J("for",t),e.xp6(3),e.Q6J("ngIf",o.compareCommoditiesFormGroup.controls.start_date.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",o.compareCommoditiesFormGroup.controls.end_date.hasError("matEndDateInvalid")),e.xp6(3),e.Q6J("dataSource",o.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",o.commoditiesColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.commoditiesColumns),e.xp6(1),e.Q6J("ngIf",!(null!=o.appStore&&null!=o.appStore.commodities&&o.appStore.commodities.length))}}function d(i,m){if(1&i&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&i){const t=m.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function N(i,m){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Invalid start date")))}function ee(i,m){1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"Invalid end date")))}function xe(i,m){1&i&&(e.TgZ(0,"div")(1,"div",47),e._UZ(2,"app-empty-state",48),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("message",e.lcZ(3,2,"Commodity and stock information is not available at this time. Please check back later."))("className","d240 icon-common-no-data"))}function pe(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"div",49)(1,"form",13,50)(3,"mat-form-field",15)(4,"mat-label",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"mat-select",51),e.NdJ("selectionChange",function(){e.CHM(t);const x=e.oxw();return e.KtG(x.onEachCommodityFilter())}),e.YNc(8,d,2,2,"mat-option",19),e.qZA(),e._UZ(9,"input",52),e.qZA(),e._UZ(10,"div",20),e.TgZ(11,"mat-form-field",15)(12,"mat-label",16),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"mat-date-range-input",21),e._UZ(16,"input",53),e.TgZ(17,"input",54),e.NdJ("dateChange",function(){e.CHM(t);const x=e.oxw();return e.KtG(x.dateChangeGraphSectionCTA())}),e.qZA()(),e._UZ(18,"mat-datepicker-toggle",24)(19,"mat-date-range-picker",null,25),e.YNc(21,N,3,3,"mat-error",26),e.YNc(22,ee,3,3,"mat-error",26),e.qZA(),e._UZ(23,"div",20),e.qZA(),e._UZ(24,"div",55,56),e.YNc(26,xe,4,4,"div",26),e.qZA()}if(2&i){const t=e.MAs(20),o=e.oxw();e.xp6(1),e.Q6J("formGroup",o.eachCommodityFormGroup),e.xp6(4),e.Oqu(e.lcZ(6,11,"Commodity")),e.xp6(3),e.Q6J("ngForOf",null==o.appStore||null==o.appStore.envConfigs?null:o.appStore.envConfigs.commodities),e.xp6(5),e.Oqu(e.lcZ(14,13,"Enter a date range")),e.xp6(2),e.Q6J("rangePicker",t)("max",o.maxDate)("min",o.minDate),e.xp6(3),e.Q6J("for",t),e.xp6(3),e.Q6J("ngIf",o.eachCommodityFormGroup.controls.start_date.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",o.eachCommodityFormGroup.controls.end_date.hasError("matEndDateInvalid")),e.xp6(4),e.Q6J("ngIf",o.isGraphError)}}Z()(L),v()(L),F()(L);let ve=(()=>{class i{constructor(t,o,x,S){this.appService=t,this.appStore=o,this.router=x,this.datePipe=S,this.toggle=!0,this.status="Enable",this.subscription=[],this.commoditiesColumns=["commodity_name","start_price","end_price","change_price","change_percentage","commodity_metric"],this.isGraphError=!0,this.widgetView={commodity:{graph:!1,data:!0}},this.start_date=new Date,this.end_date=new Date,this.start_date.setDate(this.start_date.getDate()-12),this.end_date.setDate(this.end_date.getDate()-1),this.eachCommodityFormGroup=new b.nJ({commodity:new b.p4("CORN"),start_date:new b.p4((0,B.p6)(this.start_date),[b.kI.required]),end_date:new b.p4((0,B.p6)(this.end_date),[b.kI.required])}),this.compareCommoditiesFormGroup=new b.nJ({commodities:new b.p4(this.appStore.user.preferred_crops?this.appStore.user.preferred_crops:this.appStore?.envConfigs?.commodities),start_date:new b.p4((0,B.p6)(this.start_date),[b.kI.required]),end_date:new b.p4((0,B.p6)(this.end_date),[b.kI.required])})}ngOnInit(){this.maxDate=new Date(Date.now()-864e5),this.minDate=new Date(Date.now()-10368e6),this.appStore.isLoggedIn()&&this.appStore.user._id?this.commoditiesTable():this.appService.verifyUserEmitter.subscribe(t=>{t&&this.commoditiesTable()})}commoditiesTable(){let t=this.appStore.user.preferred_crops.length?this.appStore.envConfigs.commodities.filter(o=>this.appStore.user.preferred_crops.includes(o)):[];this.compareCommoditiesFormGroup.patchValue({commodities:t}),this.triggerCompareCommoditiesAPI()}onCompareCommoditiesFilter(){this.compareCommoditiesFormGroup.patchValue({start_date:(0,B.p6)(this.compareCommoditiesFormGroup.value.start_date),end_date:(0,B.p6)(this.compareCommoditiesFormGroup.value.end_date)}),this.triggerCompareCommoditiesAPI()}onEachCommodityFilter(){this.eachCommodityFormGroup.patchValue({start_date:(0,B.p6)(this.eachCommodityFormGroup.value.start_date),end_date:(0,B.p6)(this.eachCommodityFormGroup.value.end_date)}),this.graphEachCommodityChart()}toggleCommodityWidget(t){this.widgetView[t].graph=!this.widgetView[t].graph,this.widgetView[t].data=!this.widgetView[t].data;let o=this.appStore.user.preferred_crops.length?this.appStore.envConfigs.commodities.filter(x=>this.appStore.user.preferred_crops.includes(x)):[];this.widgetView[t].graph?this.widgetView[t].graph&&(this.eachCommodityFormGroup.patchValue({commodity:o.length?o[0]:this.appStore.envConfigs.commodities[0],start_date:(0,B.p6)(this.start_date),end_date:(0,B.p6)(this.end_date)}),this.onEachCommodityFilter()):(this.commoditiesChart&&this.commoditiesChart.destroy(),this.compareCommoditiesFormGroup.patchValue({commodities:o,start_date:(0,B.p6)(this.start_date),end_date:(0,B.p6)(this.end_date)}),this.onCompareCommoditiesFilter()),this.enableDisableRule()}dateChangeTableSectionCTA(){this.compareCommoditiesFormGroup.value.start_date&&this.compareCommoditiesFormGroup.value.end_date&&this.onCompareCommoditiesFilter()}dateChangeGraphSectionCTA(){this.eachCommodityFormGroup.value.start_date&&this.eachCommodityFormGroup.value.end_date&&this.onEachCommodityFilter()}graphEachCommodityChart(){let t={start_date:this.eachCommodityFormGroup.value.start_date,end_date:this.eachCommodityFormGroup.value.end_date,base:"USD",symbols:this.eachCommodityFormGroup.value.commodity};this.subscription.push(this.appService.reqCommoditiesTimeSeriesApi(t).subscribe(o=>{o.data?(this.isGraphError=!1,this.timeSeriesData=o,this.timeSeriesData.x_axis=[],Object.keys(this.timeSeriesData.data.rates).forEach(ne=>{let be=new Date(ne);this.timeSeriesData.x_axis.push(this.datePipe.transform(be))}),this.timeSeriesData.y_axis=Object.values(this.timeSeriesData.data.rates).map(ne=>Math.round(ne.USD/ne[t.symbols]*100)/100),this.commoditiesChart=L.chart(this.containerCommodityChart.nativeElement,{chart:{type:"spline"},title:{text:"Commodity Prices",style:{color:"#6a6a6a"}},xAxis:{categories:this.timeSeriesData.x_axis,labels:{style:{color:"#6a6a6a"}}},yAxis:{title:{text:"Prices",style:{color:"#6a6a6a"}},labels:{style:{color:"#6a6a6a"}}},tooltip:{valueSuffix:" "+this.timeSeriesData.data.unit,style:{color:"#6a6a6a"}},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},legend:{itemStyle:{color:"#6a6a6a"}},plotOptions:{series:{events:{legendItemClick:()=>!1}}},series:[{name:t.symbols,data:this.timeSeriesData.y_axis}]})):this.isGraphError=!0},o=>{this.isGraphError=!0}))}triggerCompareCommoditiesAPI(){this.subscription.push(this.appService.reqCommoditiesFluctuationApi({start_date:this.compareCommoditiesFormGroup.value.start_date,end_date:this.compareCommoditiesFormGroup.value.end_date,base:"USD",symbols:this.compareCommoditiesFormGroup.value.commodities?.length?this.compareCommoditiesFormGroup.value.commodities:this.appStore?.envConfigs?.commodities}).subscribe(o=>{if(o){let x=[];this.isGraphError=!1;for(const S in o.data.rates)if(Object.prototype.hasOwnProperty.call(o.data.rates,S)&&"USD"!==S){let ne=o.data.rates[S];ne.start_rate=Math.round(1/ne.start_rate*100)/100,ne.end_rate=Math.round(1/ne.end_rate*100)/100,ne.change=(ne.end_rate-ne.start_rate).toFixed(2),ne.change_pct=ne.change_pct.toFixed(2),x.push({commodity_name:S,start_date:o.data.start_date,end_date:o.data.end_date,start_price:ne.start_rate,end_price:ne.end_rate,change_price:ne.change,change_percentage:ne.change_pct,commodity_metric:o.data.unit})}this.appStore.commodities=x,this.dataSource=new C.by(this.appStore?.commodities),this.dataSource.sort=this.sort}},o=>{this.appStore.toggleSnackBar({icon:null,message:o.error.message,className:"error",closeIcon:"close"})}))}enableDisableRule(){this.toggle=!this.toggle,this.status=this.toggle?"Enable":"Disable"}ngOnDestroy(){this.subscription.length&&this.subscription.forEach(t=>t.unsubscribe())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I.z),e.Y36(A.d),e.Y36(ge.F0),e.Y36(ae.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-commodities-widget"]],viewQuery:function(t,o){if(1&t&&(e.Gf(u.YE,5),e.Gf(a,5,e.SBq)),2&t){let x;e.iGM(x=e.CRH())&&(o.sort=x.first),e.iGM(x=e.CRH())&&(o.containerCommodityChart=x.first)}},decls:15,vars:13,consts:[["id","commodityWidgetContainer",1,"flex","height100p"],["id","commoditiesSection","tourAnchor","commodity",1,"item","bdrRadius15px","bgWhite","boxShadowDown","width100","flex","flexDirectionCol","flexJustifyBetween","overflowHidden"],["id","cashBidsHeaderBarchart",1,"bdrBtm-D8D8D8","title","flex","flexAlignItemsCenter","flexJustifyBetween"],["id","cashBidsHeader",1,"pad10","title","flex","flexAlignItemsCenter","flexJustifyBetween"],[1,"icns","d30","mrgn3","icon-CashBids","flipHorizontal"],[1,"color-6a6a6a","padleft10","fontWeight600","font18"],[1,"flex","flexAlignItemsCenter"],["aria-label","Button that displays a tooltip when focused or hovered over","alt","Information",1,"icns","d22","icon-Information","mrgnright5",3,"matTooltip"],[3,"iconButton","buttonType","label","tooltip","styleClass","triggerButton"],["aria-label","More Vert",1,"bdrNone","bg-none"],["id","commodityTableData","class","txtNoWrap height100p width100",4,"ngIf"],["id","commodityGraphView",4,"ngIf"],["id","commodityTableData",1,"txtNoWrap","height100p","width100"],[1,"pad1020","mrgn0","flex","flexAlignItemsBaseline","flexResponsive","field-height",3,"formGroup"],["compareCommoditiesFilterForm","ngForm"],["appearance","outline",1,"width256px"],[1,"font12"],["formControlName","commodities","multiple","","disableOptionCentering","",1,"font12",3,"selectionChange"],["cropMultiSelect",""],[3,"value",4,"ngFor","ngForOf"],[1,"pad5"],[1,"font12","lineHeight15px",3,"rangePicker","max","min"],["matStartDate","","formControlName","start_date","placeholder","Start date","readonly","true","id","startDateCommodity"],["matEndDate","","formControlName","end_date","placeholder","End date","readonly","true","id","endDateCommodity",3,"dateChange"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],[1,"overflowAuto","dataTableHeight"],["mat-table","","matSort","",1,"width100",3,"dataSource"],["matColumnDef","commodity_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","start_price"],["matColumnDef","end_price"],["matColumnDef","change_price"],["matColumnDef","change_percentage"],["matColumnDef","commodity_metric"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","flex flexJustifyCenter",4,"ngIf"],[3,"value"],["mat-header-cell","","mat-sort-header",""],[1,"color-6a6a6a","font14","fontWeight600"],["mat-cell",""],[1,"color-6a6a6a","font12"],["mat-header-row",""],["mat-row",""],[1,"flex","flexJustifyCenter"],[3,"message","className"],["id","commodityGraphView"],["eachCommodityFilterForm","ngForm"],["formControlName","commodity","aria-owns","hidden-input1","disableOptionCentering","",1,"font12",3,"selectionChange"],["type","hidden","name","hidden-input1","id","hidden-input1"],["matStartDate","","formControlName","start_date","placeholder","Start date","readonly","true","id","commodityChartStartDate"],["matEndDate","","formControlName","end_date","placeholder","End date","readonly","true","id","commodityChartEndDate",3,"dateChange"],[1,"txtCenter","flex","bdrRadius15px","flexJustifyAround"],["containerCommodityChart",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"article",1)(2,"div",2)(3,"div",3),e._UZ(4,"i",4),e.TgZ(5,"span",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",6),e._UZ(9,"i",7),e.ALo(10,"translate"),e.TgZ(11,"app-button",8),e.NdJ("triggerButton",function(){return o.toggleCommodityWidget("commodity")}),e.qZA(),e._UZ(12,"button",9),e.qZA()(),e.YNc(13,le,48,19,"div",10),e.YNc(14,pe,27,15,"div",11),e.qZA()()),2&t&&(e.xp6(6),e.hij(" ",e.lcZ(7,9,"Cash Bids")," "),e.xp6(3),e.s9C("matTooltip",e.lcZ(10,11,"Commodity Details")),e.xp6(2),e.Q6J("iconButton",!0)("buttonType","mat-flat-button")("label","bar_chart")("tooltip",o.toggle?"Graph View":"Table View")("styleClass",o.toggle?"fffff color-6a6a6a pad0 minWidth30px lineHeight30px":"active color-6a6a6a pad0 minWidth30px lineHeight30px"),e.xp6(2),e.Q6J("ngIf",o.widgetView.commodity.data),e.xp6(1),e.Q6J("ngIf",null==o.widgetView||null==o.widgetView.commodity?null:o.widgetView.commodity.graph))},dependencies:[ae.sg,ae.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,se.TO,se.KE,se.hX,se.R9,Ae.gD,ye.ey,C.BZ,C.fO,C.as,C.w1,C.Dz,C.nj,C.ge,C.ev,C.XQ,C.Gk,Te.nW,Te.wx,Te.zY,Te.By,Te._g,u.YE,u.nU,ce.gM,k.JA,n.s,r.r,ae.i8,s.X$],styles:[".dataTableHeight[_ngcontent-%COMP%]{max-height:410px}@media only screen and (max-width: 768px){.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding-right:10px}.dataTableHeight[_ngcontent-%COMP%]{max-height:310px}}"]}),i})();var oe=W(7579),l=W(2722),c=W(2542),y=W(213),D=W(4144),P=W(7392);function R(i,m){if(1&i&&(e.TgZ(0,"mat-option",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=m.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.label)," ")}}function de(i,m){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",24),e._uU(2),e.qZA(),e.BQk()),2&i){const t=m.$implicit;e.xp6(1),e.Q6J("value",t),e.xp6(1),e.hij(" ",t.farm_name," ")}}function _(i,m){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-form-field",7)(2,"mat-label",8),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-select",25),e.NdJ("ngModelChange",function(x){e.CHM(t);const S=e.oxw();return e.KtG(S.farmFilter=x)})("selectionChange",function(x){e.CHM(t);const S=e.oxw();return e.KtG(S.reorderStoresByField(x))}),e.TgZ(6,"mat-option",26),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,de,3,2,"ng-container",27),e.qZA(),e._UZ(10,"input",28),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,4,"Field")),e.xp6(2),e.Q6J("ngModel",t.farmFilter),e.xp6(2),e.hij(" ",e.lcZ(8,6,"Your Location")," "),e.xp6(2),e.Q6J("ngForOf",t.farmsList)}}const G=function(i){return{highlight:i}};function fe(i,m){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",29),e.NdJ("click",function(){const S=e.CHM(t).$implicit,ne=e.oxw(2);return e.KtG(ne.onStoreClick(S))}),e.TgZ(2,"div",30)(3,"h4",31),e._uU(4),e.qZA(),e.TgZ(5,"span",32),e._uU(6),e.qZA()(),e.TgZ(7,"div",3)(8,"div",33),e._uU(9),e.qZA(),e.TgZ(10,"div",34),e._uU(11," Distance from field location: "),e.TgZ(12,"b"),e._uU(13),e.qZA(),e._uU(14," (Approx) "),e.qZA(),e._UZ(15,"div",10),e.TgZ(16,"div",35)(17,"a",36)(18,"mat-icon",37),e._uU(19,"directions"),e.qZA(),e._uU(20),e.ALo(21,"translate"),e.qZA(),e._UZ(22,"div",10),e.TgZ(23,"a",38)(24,"mat-icon",37),e._uU(25,"phone"),e.qZA(),e._uU(26),e._UZ(27,"br"),e.qZA()()()(),e.BQk()}if(2&i){const t=m.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(15,G,t.active)),e.xp6(3),e.hij(" ",null==t?null:t.location_name," "),e.xp6(1),e.Q6J("ngClass","wholesale"==t.store_type?"color-06230 bg-yellow":""),e.xp6(1),e.hij(" ",null==t?null:t.store_type," "),e.xp6(3),e.HOy(" ",null==t?null:t.address,", ",null==t?null:t.city,", ",null==t?null:t.state," - ",null==t?null:t.postal_code," "),e.xp6(4),e.Oqu(null==t?null:t.distanceRoundOff),e.xp6(4),e.Q6J("href","https://www.google.com/maps/dir/?api=1&destination="+(null==t?null:t.location.coordinates[1])+","+(null==t?null:t.location.coordinates[0]),e.LSH),e.xp6(3),e.hij(" ",e.lcZ(21,13,"View Directions")," "),e.xp6(3),e.Q6J("href","tel:"+(null==t?null:t.contact_no),e.LSH),e.xp6(3),e.hij(" ",null==t?null:t.contact_no," ")}}function ue(i,m){if(1&i&&(e.ynx(0),e.YNc(1,fe,28,17,"ng-container",27),e.ALo(2,"searchFilter"),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,null==t.appStore?null:t.appStore.stores,t.searchFilter))}}function re(i,m){1&i&&(e.ynx(0),e.TgZ(1,"div",39),e._UZ(2,"app-empty-state",40),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&i&&(e.xp6(2),e.Q6J("message",e.lcZ(3,2,"Error finding your address, please review your criteria and try again"))("className","d240 icon-common-no-data"))}let me=(()=>{class i{constructor(t,o,x,S){this.appService=t,this.appStore=o,this.router=x,this.searchFilterPipe=S,this._destroy=new oe.x,this.searchFilter="",this.storeTypeFilter="all",this.mileRangeFilter="all",this.farmFilter="default",this.storeData=[],this.geocoder=new google.maps.Geocoder,this.mileRange=c.QT}ngOnInit(){this.appStore.isLoggedIn()&&this.appStore.user._id?(this.loadStoreLocator(),this.sortFarms("farm_name")):this.appService.verifyUserEmitter.pipe((0,l.R)(this._destroy)).subscribe(t=>{t&&(this.loadStoreLocator(),this.sortFarms("farm_name"))})}loadStoreLocator(){this.appService.reqGetStores({postal_code:this.appStore.user.postal_code}).pipe((0,l.R)(this._destroy)).subscribe(t=>{this.appStore.stores=[...t],this.storeData=[...t],this.setMarkersOnMap()})}storeTypeSelector(t){if(this.mileRangeFilter="all","all"==t.value)this.appStore.stores=[...this.storeData];else{let o=[];this.storeData.forEach(x=>{-1!==x.store_type.indexOf(t.value)&&o.push(x)}),this.appStore.stores=[...o]}this.setMarkersOnMap("storeType"),this.scrollToTop("storeListSection")}onMileSelect(t){this.storeTypeFilter="all",this.appStore.stores="all"==t.value?[...this.storeData]:this.storeData.filter("101"==t.value?o=>Number(Math.round(o.distance))>=Number(t.value):o=>Number(Math.round(o.distance))<=Number(t.value)),this.setMarkersOnMap("storeType")}reorderStoresByFarms(t){let o=t&&"default"!=t.value?t.value.farm_lat:this.userLocation.lat(),x=t&&"default"!=t.value?t.value.farm_long:this.userLocation.lng(),S=new google.maps.LatLng(o,x);this.marker?this.marker.setPosition(S):new google.maps.Marker({map:this.map,position:S}),this.setupStoreList(S),this.map?.setCenter(S),this.map?.setZoom(this.setZoomLevel()),this.scrollToTop("storeListSection")}reorderStoresByField(t){this.mileRangeFilter="all",this.reorderStoresByFarms(t)}setZoomLevel(){let t;switch(this.mileRangeFilter.toString()){case"25":default:t=9;break;case"50":t=8;break;case"100":t=7;break;case"101":t=5}return t}scrollToTop(t){let o=document.getElementById(t);o&&(o.scrollTop=0)}setMarkersOnMap(t){this.map=new google.maps.Map(document.getElementById("storeLocator"),{center:new google.maps.LatLng(c.D3.LAT,c.D3.LONG),zoom:8,styles:[{featureType:"water",elementType:"geometry",stylers:[{visibility:"on"},{color:"#aee2e0"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#abce83"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#769E72"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#7B8758"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{color:"#EBF4A4"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{visibility:"simplified"},{color:"#8dab68"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#5B5B3F"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ABCE83"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#A4C67D"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#9BBF72"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#EBF4A4"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#87ae79"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#7f2200"},{visibility:"off"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"},{visibility:"on"},{weight:4.1}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#495421"}]},{featureType:"administrative.neighborhood",elementType:"labels",stylers:[{visibility:"off"}]}]});let o=this.map,x=this;this.appStore.user.postal_code&&this.geocoder.geocode({address:this.appStore.user.postal_code},(S,ne)=>{"OK"==ne&&(x.userLocation=S[0].geometry.location,o.setCenter(S[0].geometry.location),o.setZoom(9),x.marker=new google.maps.Marker({map:o,position:S[0].geometry.location,animation:google.maps.Animation.DROP}),x.reorderStoresByFarms({value:t&&"default"!=x.farmFilter?{farm_lat:x.farmFilter.farm_lat,farm_long:x.farmFilter.farm_long}:"default"}))})}setupStoreList(t){for(let o=0;o<this.appStore.stores.length;o++)if(this.appStore.stores[o].distance=(0,B.W3)(t.lat(),t.lng(),this.appStore.stores[o].latitude,this.appStore.stores[o].longitude),this.appStore.stores[o].distanceRoundOff=`${Math.round(this.appStore.stores[o].distance)} miles`,this.appStore.stores[o].active=!1,this.appStore.stores[o].location.coordinates){const x=new google.maps.Marker({position:new google.maps.LatLng(this.appStore.stores[o].location.coordinates[1],this.appStore.stores[o].location.coordinates[0]),icon:`../assets/shell/${this.appStore.stores[o].store_type}-pin.png`,map:this.map}),S=new google.maps.InfoWindow({content:["<h4 class='padbtm10'>",this.appStore.stores[o].location_name,"</h4>","<div>",this.appStore.stores[o].address+", ",this.appStore.stores[o].city+", ",this.appStore.stores[o].state+" - ",this.appStore.stores[o].postal_code,"</div>","<br>","<div class='flex flexAlignItemsCenter flexJustifyBetween'>","<div>","<a href='https://www.google.com/maps/dir/?api=1&destination=",this.appStore.stores[o]?.location.coordinates[1],",",this.appStore.stores[o]?.location.coordinates[0],"' target='_blank'","' aria-label='Location'","class='flex flexAlignItemsCenter padbtm5 color-006230'",">","<u>View Directions</u>","</a>","</div>","<div>","<a href='tel:",this.appStore.stores[o]?.contact_no," class='flex flexAlignItemsCenter padbtm5 color-006230'>","<u>"+this.appStore.stores[o].contact_no+"</u>","</div>","</div>"].join("")});google.maps.event.addListener(x,"click",()=>{S.open(this.map,x),this.onStoreClick(this.appStore.stores[o])}),google.maps.event.addListener(x,"mouseover",()=>{S.open(this.map,x)}),google.maps.event.addListener(x,"mouseout",()=>{S.close()})}this.appStore.stores.sort((o,x)=>o.distance-x.distance)}onStoreClick(t){this.appStore.stores.forEach(o=>o.active=!1),t.active=!0,t.location.coordinates&&(this.map?.setCenter(new google.maps.LatLng(t.location.coordinates[1],t.location.coordinates[0])),this.map?.setZoom(16),this.map?.panTo(new google.maps.LatLng(t.location.coordinates[1],t.location.coordinates[0])))}sortFarms(t){this.farmsList=this.appStore?.user?.farms.sort((o,x)=>o[t]>x[t]?1:o[t]===x[t]?0:-1)}resetStoreSearch(){this.searchFilter="",this.storeTypeFilter="all",this.farmFilter="default",this.mileRangeFilter="all",this.marker=null,this.loadStoreLocator()}ngOnDestroy(){this._destroy.next(!0),this._destroy.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I.z),e.Y36(A.d),e.Y36(ge.F0),e.Y36(y.G))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-store-locator"]],decls:54,vars:42,consts:[["id","storeLocatorSectionContainer","tourAnchor","store-locator",1,"item","bdrRadius15px","bgWhite","boxShadowDown","width100","flex","flexDirectionCol","flexJustifyBetween"],["id","helenaLocationHeader",1,"pad15","bdrBtm-D8D8D8","title","flex","flexAlignItemsCenter","flexJustifyBetween"],[1,"flex","flexAlignItemsCenter"],[1,"color-6a6a6a"],[1,"color-6a6a6a","padleft10","fontWeight600","font18"],["aria-label","Button that displays a tooltip when focused or hovered over","alt","Information",1,"icns","d22","icon-Information","mrgnright5",3,"matTooltip"],["id","helenaStoreType",1,"width100","pad10","flex","flexAlignItemsCenter","flexResponsive","field-height"],["appearance","outline",1,"width32"],[1,"font12"],["matInput","","type","text","autocomplete","false","id","storeSearchFilter",3,"ngModel","ngModelChange"],[1,"pad5"],["placeholder","Mile Selector","aria-owns","hidden-input","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["type","hidden","name","hidden-input","id","storehiddenInput"],["placeholder","Store Type","aria-owns","hidden-input","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],["value","all"],["value","retail"],["value","wholesale"],[4,"ngIf"],[1,"mrgnleft10","padbtm20"],[3,"buttonType","label","buttonColor","triggerButton"],[1,"flex","flexResponsive","flexJustifyBetween","flexAlignItemsStretch","width100","pad15"],["id","storeListSection",1,"padleft10","padright10","verticalScrollContainer","height100p","maxHeight450px","width30","mrgnright10"],["id","storeLocator",1,"height100p","bdrRadius10px","txtCenter","width70","minHeight450px","mrgntop10"],[3,"value"],["placeholder","Select Farm","aria-owns","hidden-input1","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],["value","default"],[4,"ngFor","ngForOf"],["type","hidden","name","hidden-input1","id","storeLocatorHiddenInput"],[1,"bdrRadius15px","boxShadowDown","pad1015","mrgnbtm15","cursorPtr",3,"ngClass","click"],[1,"flex","flexJustifyBetween"],[1,"fontWeight600","mrgnbtm10","color-6a6a6a","font16"],[1,"color-white","bg-1aaa55","pad0306","txtTransformCaps","font12","bdrRadius5px","flex","flexAlignSelfCenter",3,"ngClass"],[1,"padbtm15"],[1,"color-6a6a6a","font12"],[1,"flex","flexJustifyBetween","flexAlignItemsCenter"],["aria-label","Location","target","_blank",1,"flex","flexAlignItemsCenter","padbtm5","color-006230","font12",3,"href"],[1,"mrgnright5","font20"],["aria-label","Contact No",1,"flex","flexAlignItemsCenter","padbtm5","color-006230","font12",3,"href"],[1,"flex","flexJustifyCenter"],[3,"message","className"]],template:function(t,o){1&t&&(e.TgZ(0,"article",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),e._uU(4,"map"),e.qZA(),e.TgZ(5,"span",4),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",2),e._UZ(9,"i",5),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",6)(12,"mat-form-field",7)(13,"mat-label",8),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",9),e.NdJ("ngModelChange",function(S){return o.searchFilter=S}),e.qZA()(),e._UZ(17,"div",10),e.TgZ(18,"mat-form-field",7)(19,"mat-label",8),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"mat-select",11),e.NdJ("ngModelChange",function(S){return o.mileRangeFilter=S})("selectionChange",function(S){return o.onMileSelect(S)}),e.YNc(23,R,3,4,"mat-option",12),e.qZA(),e._UZ(24,"input",13),e.qZA(),e._UZ(25,"div",10),e.TgZ(26,"mat-form-field",7)(27,"mat-label",8),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"mat-select",14),e.NdJ("ngModelChange",function(S){return o.storeTypeFilter=S})("selectionChange",function(S){return o.storeTypeSelector(S)}),e.TgZ(31,"mat-option",15),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"mat-option",16),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"mat-option",17),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e._UZ(40,"input",13),e.qZA(),e._UZ(41,"div",10),e.YNc(42,_,11,8,"ng-container",18),e.TgZ(43,"div",19)(44,"app-button",20),e.NdJ("triggerButton",function(){return o.resetStoreSearch()}),e.ALo(45,"translate"),e.qZA()()(),e.TgZ(46,"div",21)(47,"div",22),e.YNc(48,ue,3,4,"ng-container",18),e.YNc(49,re,4,4,"ng-container",18),e.ALo(50,"searchFilter"),e.qZA(),e.TgZ(51,"div",23),e._uU(52),e.ALo(53,"translate"),e.qZA()()()),2&t&&(e.xp6(6),e.hij(" ",e.lcZ(7,19,"Find Helena locations nearest to you")," "),e.xp6(3),e.s9C("matTooltip",e.lcZ(10,21,"Store Location Details")),e.xp6(5),e.Oqu(e.lcZ(15,23,"Filter from the below stores list")),e.xp6(2),e.Q6J("ngModel",o.searchFilter),e.xp6(4),e.Oqu(e.lcZ(21,25,"Mile Selector")),e.xp6(2),e.Q6J("ngModel",o.mileRangeFilter),e.xp6(1),e.Q6J("ngForOf",o.mileRange),e.xp6(5),e.Oqu(e.lcZ(29,27,"Store Type")),e.xp6(2),e.Q6J("ngModel",o.storeTypeFilter),e.xp6(2),e.Oqu(e.lcZ(33,29,"All")),e.xp6(3),e.Oqu(e.lcZ(36,31,"Retail")),e.xp6(3),e.Oqu(e.lcZ(39,33,"Wholesale")),e.xp6(4),e.Q6J("ngIf",null==o.appStore?null:o.appStore.user),e.xp6(2),e.Q6J("buttonType","mat-raised-button")("label",e.lcZ(45,35,"Reset"))("buttonColor","accent"),e.xp6(4),e.Q6J("ngIf",o.appStore.stores.length),e.xp6(1),e.Q6J("ngIf",0==e.xi3(50,37,o.appStore.stores,o.searchFilter).length),e.xp6(3),e.hij(" ",e.lcZ(53,40,"Loading"),"... "))},dependencies:[ae.mk,ae.sg,ae.O5,b.Fj,b.JJ,b.On,se.KE,se.hX,D.Nt,P.Hw,Ae.gD,ye.ey,ce.gM,k.JA,n.s,r.r,s.X$,y.G]}),i})();function K(i,m){1&i&&(e.TgZ(0,"th",28)(1,"span",29),e._uU(2,"Invoice ID"),e.qZA()())}const De=function(i){return[i]};function he(i,m){if(1&i&&(e.TgZ(0,"td",30)(1,"span",31),e._uU(2),e.qZA()()),2&i){const t=m.$implicit;e.Q6J("ngClass",e.VKq(4,De,t.statusClass)),e.xp6(1),e.Q6J("matTooltip",t.tooltipMsg)("matTooltipPosition","after"),e.xp6(1),e.Oqu(t.TRANSACTION_NUMBER)}}function Ce(i,m){1&i&&(e.TgZ(0,"th",28)(1,"span",29),e._uU(2,"Invoice Date"),e.qZA()())}function we(i,m){if(1&i&&(e.TgZ(0,"td",32)(1,"span",33),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&i){const t=m.$implicit;e.xp6(2),e.Oqu(e.xi3(3,1,t.TRANSACTION_DATE_ITEM,"MMM d, YYY"))}}function Se(i,m){1&i&&(e.TgZ(0,"th",28)(1,"span",29),e._uU(2,"Due Date"),e.qZA()())}function Ue(i,m){if(1&i&&(e.TgZ(0,"td",32)(1,"span",33),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&i){const t=m.$implicit;e.xp6(2),e.Oqu(e.xi3(3,1,t.DUE_DATE_ITEM,"MMM d, YYY"))}}function Ee(i,m){1&i&&(e.TgZ(0,"th",28)(1,"span",29),e._uU(2,"Amount Due"),e.qZA()())}function Ne(i,m){if(1&i&&(e.TgZ(0,"td",32)(1,"span",33),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&i){const t=m.$implicit;e.xp6(2),e.Oqu(e.Dn7(3,1,t.REMAINING_TRX_AMT,"USD","symbol"))}}function Ie(i,m){1&i&&e._UZ(0,"tr",34)}function Fe(i,m){1&i&&e._UZ(0,"tr",35)}function Le(i,m){if(1&i&&(e.TgZ(0,"div",17)(1,"table",18),e.ynx(2,19),e.YNc(3,K,3,0,"th",20),e.YNc(4,he,3,6,"td",21),e.BQk(),e.ynx(5,22),e.YNc(6,Ce,3,0,"th",20),e.YNc(7,we,4,4,"td",23),e.BQk(),e.ynx(8,24),e.YNc(9,Se,3,0,"th",20),e.YNc(10,Ue,4,4,"td",23),e.BQk(),e.ynx(11,25),e.YNc(12,Ee,3,0,"th",20),e.YNc(13,Ne,4,5,"td",23),e.BQk(),e.YNc(14,Ie,1,0,"tr",26),e.YNc(15,Fe,1,0,"tr",27),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}function Me(i,m){if(1&i&&(e.TgZ(0,"div",36),e._UZ(1,"app-empty-state",37),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("pageFrom","invoices")("message",e.lcZ(2,3,t.noInvoices))("className","d620 icon-no-invoices")}}let Oe=(()=>{class i{constructor(t,o){this.appStore=t,this.appService=o,this.subscription=[],this.noInvoices=c.oP.NO_INVOICES,this.grower360_sso_url="",this.displayedColumns=["TRANSACTION_NUMBER","TRANSACTION_DATE_ITEM","DUE_DATE_ITEM","REMAINING_TRX_AMT"]}ngAfterContentInit(){this.appStore.isLoggedIn()&&this.appStore.user._id?this.initInvoicesWidget():this.appService.verifyUserEmitter.subscribe(t=>{t&&(this.initInvoicesWidget(),this.grower360_sso_url=this.appStore.envConfigs.grower360_sso_url)})}ngAfterViewChecked(){this.dataSource&&(this.dataSource.sort=this.sort)}initInvoicesWidget(){this.triggerOpenInvoicesAPI(),this.subscription.push(this.appService.changeCustomerIDEmitter.subscribe(t=>{t&&this.triggerOpenInvoicesAPI()}))}triggerOpenInvoicesAPI(){this.appStore?.user?._id?(this.appStore.user.transactions=[],this.dataSource=new C.by(this.appStore.user.transactions),this.subscription.push(this.appService.reqOpenInvoices({customer_number:this.appStore?.user?.selected_customer}).subscribe(o=>{if(this.appStore.user.transactions=o.result,this.appService.getPostReplyNotificationEmitter.emit(!0),o.result.length){o.result.forEach(S=>{S.isNewInvoice=!1,S.isDueInvoice=!1,S.TRANSACTION_DATE_ITEM=this.customizeDateFormat(null!=S.TRANSACTION_DATE?S.TRANSACTION_DATE.split(".").join("").split(" ")[0]:"--"),S.DUE_DATE_ITEM=this.customizeDateFormat(null!=S.DUE_DATE?S.DUE_DATE.split(".").join("").split(" ")[0]:"--"),S.transactionType=S.TRANSACTION_TYPE?S.TRANSACTION_TYPE.toLowerCase():"",S.isNewInvoice="--"!=S.TRANSACTION_DATE_ITEM&&Math.round(Math.abs(+S.TRANSACTION_DATE_ITEM-+new Date)/864e5)<=3,S.isDueInvoice="--"!=S.DUE_DATE_ITEM&&Math.round((+S.DUE_DATE_ITEM-+new Date)/864e5)>=3,S.tooltipMsg=S.isDueInvoice?S.isNewInvoice?"New Invoice":"":"Payment Due",S.statusClass=S.isDueInvoice?S.isNewInvoice?"bdrLeft-new":"bdrLeft-white":"bdrLeft-danger"});let x=o.result.filter(S=>"priced"==S.transactionType);this.appStore.user.transactions=[...x],this.dataSource=new C.by(this.appStore.user.transactions)}},o=>{this.appStore.user.transactions=[],this.dataSource=new C.by(this.appStore.user.transactions)}))):setTimeout(()=>{this.triggerOpenInvoicesAPI()},500)}customizeDateFormat(t){return 8==t.length?new Date(`${t.split("").splice(0,4).join("")}-${t.split("").splice(4,2).join("")}-${t.split("").splice(6,2).join("")}`):t}ngOnDestroy(){this.subscription.length&&this.subscription.forEach(t=>t.unsubscribe())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.d),e.Y36(I.z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-invoice-widget"]],viewQuery:function(t,o){if(1&t&&e.Gf(u.YE,5),2&t){let x;e.iGM(x=e.CRH())&&(o.sort=x.first)}},decls:27,vars:9,consts:[["id","invoiceContainer",1,"flex","height100p"],["tourAnchor","invoice",1,"item","bdrRadius15px","bgWhite","boxShadowDown","width100","flex","flexDirectionCol","overflowHidden"],["id","invoiceReviewHeader","tourAnchor","balance-review",1,"pad15","title","flex","flexAlignItemsCenter","flexJustifyBetween","height65px","bdrBtm-D8D8D8"],[1,"flex","flexAlignItemsCenter"],["alt","File",1,"icns","d24","icon-dollar"],[1,"color-6a6a6a","padleft10","fontWeight600","font18"],["aria-label","Button that displays a tooltip when focused or hovered over","alt","Information",1,"icns","d22","icon-Information","mrgnright5",3,"matTooltip"],["class","height100p maxHeight444px overflowAuto",4,"ngIf"],["class","flex flexAlignItemsCenter flexJustifyCenter pad3 height100p maxHeight444px",4,"ngIf"],["id","linkGrower360",1,"bg-F7F7F7","pad1015","font14","flex","flexJustifyBetween","bdrRadius15pxBtmLeftRight"],["id","viewMoreGrower360","tourAnchor","view-more",1,"flex","flexJustifyBetween","flexAlignItemsCenter","color-6a6a6a"],[1,"flex","fontWeight600",3,"href"],[1,"color-006230"],["width","19","height","19","viewBox","0 0 19 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.66309 16.4709L9.13636 18.9641L16.1173 12.0411C15.5529 11.9265 14.9695 11.8652 14.3715 11.8652C11.0478 11.8652 8.15595 13.7263 6.66309 16.4709Z","fill","#00984A"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3732 10.3865C14.6584 10.3865 15.8796 10.6545 16.9923 11.1281L17.5179 10.6122C15.8194 9.39302 13.7422 8.67188 11.495 8.67188C8.08156 8.67188 5.0535 10.327 3.16162 12.8814L5.33179 15.0608C6.93697 12.27 9.93318 10.3865 13.3732 10.3865Z","fill","#00984A"],["fill-rule","evenodd","clip-rule","evenodd","d","M18.0666 8.08407L10.6864 0.659026C10.015 -0.0165503 8.91591 -0.0165503 8.24442 0.659026L0.864303 8.08407C0.192368 8.75965 0.192368 9.86538 0.864303 10.541L1.82798 11.5105C1.92537 11.3828 2.025 11.2565 2.12776 11.1329C4.1516 8.70391 7.18872 7.15813 10.5859 7.15813C13.573 7.15813 16.2773 8.35781 18.2631 10.2982C18.7269 9.62221 18.663 8.68413 18.0666 8.08407Z","fill","#0194D2"],[1,"height100p","maxHeight444px","overflowAuto"],["mat-table","","matSort","",1,"width100",3,"dataSource"],["matColumnDef","TRANSACTION_NUMBER"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","TRANSACTION_DATE_ITEM"],["mat-cell","",4,"matCellDef"],["matColumnDef","DUE_DATE_ITEM"],["matColumnDef","REMAINING_TRX_AMT"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],[1,"color-6a6a6a","font14","fontWeight600"],["mat-cell","",3,"ngClass"],[1,"color-6a6a6a","font12",3,"matTooltip","matTooltipPosition"],["mat-cell",""],[1,"color-6a6a6a","font12"],["mat-header-row",""],["mat-row",""],[1,"flex","flexAlignItemsCenter","flexJustifyCenter","pad3","height100p","maxHeight444px"],[3,"pageFrom","message","className"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"article",1)(2,"div",2)(3,"div",3),e._UZ(4,"i",4),e.TgZ(5,"span",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",3),e._UZ(9,"i",6),e.ALo(10,"translate"),e.qZA()(),e.YNc(11,Le,16,4,"div",7),e.YNc(12,Me,3,5,"div",8),e.TgZ(13,"div",9),e._UZ(14,"div"),e.TgZ(15,"div",10),e._uU(16," Click "),e.TgZ(17,"a",11),e._uU(18,"\xa0"),e.TgZ(19,"u",12),e._uU(20,"here"),e.qZA(),e._uU(21,"\xa0"),e.qZA(),e._uU(22," to access your account \xa0 "),e.O4$(),e.TgZ(23,"svg",13),e._UZ(24,"path",14)(25,"path",15)(26,"path",16),e.qZA()()()()()),2&t&&(e.xp6(6),e.hij(" ",e.lcZ(7,5,"Unpaid Invoices Review")," "),e.xp6(3),e.s9C("matTooltip",e.lcZ(10,7,"Unpaid Invoices and Payments")),e.xp6(2),e.Q6J("ngIf",(null==o.appStore||null==o.appStore.user||null==o.appStore.user.transactions?null:o.appStore.user.transactions.length)>0),e.xp6(1),e.Q6J("ngIf",0==(null==o.appStore||null==o.appStore.user||null==o.appStore.user.transactions?null:o.appStore.user.transactions.length)),e.xp6(5),e.s9C("href",o.grower360_sso_url,e.LSH))},dependencies:[ae.mk,ae.O5,C.BZ,C.fO,C.as,C.w1,C.Dz,C.nj,C.ge,C.ev,C.XQ,C.Gk,u.YE,u.nU,ce.gM,k.JA,n.s,ae.H9,ae.uU,s.X$],styles:["@media only screen and (max-width: 768px){.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{padding-right:10px;white-space:nowrap}}"]}),i})(),Re=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-coming-soon-widget"]],decls:3,vars:0,consts:[[1,"item","bdrRadius20px","bgWhite","boxShadowDown","flex","flexJustifyCenter","flexAlignItemsCenter","height100p","minHeight200px"]],template:function(t,o){1&t&&(e.TgZ(0,"article",0)(1,"h3"),e._uU(2,"Widget Coming Soon!"),e.qZA()())}}),i})(),qe=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recent-activity-widget"]],decls:39,vars:3,consts:[[1,"item","bdrRadius20px","bgWhite","boxShadowDown","width100","flex","flexDirectionCol","flexJustifyBetween","overflowHidden"],[1,"pad10","bdrBtm-D8D8D8","title","flex","flexAlignItemsCenter"],[1,"padleft5"],[1,"pad3","verticalScrollContainer","minHeight200px"],[1,"pad5","bdrBtm-D8D8D8"],[1,"font15","fontWeight500"],[1,"bg-F7F7F7","pad1015","font11","flex","flexJustifyBetween"],[1,"flex","flexJustifyBetween","flexAlignItemsCenter"],["src","./assets/shell/offers.svg","alt","Offers",1,"d15","mrgnleft5"]],template:function(t,o){1&t&&(e.TgZ(0,"article",0)(1,"div",1)(2,"mat-icon"),e._uU(3,"refresh"),e.qZA(),e.TgZ(4,"span",2),e._uU(5,"Recent Activity"),e.qZA()(),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5),e._uU(9,"Oakwood Farm - 1"),e.qZA(),e.TgZ(10,"div"),e._uU(11," Consectetur consectetur ad cillum duis mollit in minim id dolore. "),e.qZA()(),e.TgZ(12,"div",4)(13,"div",5),e._uU(14,"Irrigation"),e.qZA(),e.TgZ(15,"div"),e._uU(16," Aute nostrud magna irure tempor minim veniam fugiat voluptate amet deserunt magna mollit. "),e.qZA()(),e.TgZ(17,"div",4)(18,"div",5),e._uU(19,"Irrigation"),e.qZA(),e.TgZ(20,"div"),e._uU(21," Aute nostrud magna irure tempor minim veniam fugiat voluptate amet deserunt magna mollit. "),e.qZA()(),e.TgZ(22,"div",4)(23,"div",5),e._uU(24,"Irrigation"),e.qZA(),e.TgZ(25,"div"),e._uU(26," Aute nostrud magna irure tempor minim veniam fugiat voluptate amet deserunt magna mollit. "),e.qZA()(),e.TgZ(27,"div",4)(28,"div",5),e._uU(29,"Irrigation"),e.qZA(),e.TgZ(30,"div"),e._uU(31," Aute nostrud magna irure tempor minim veniam fugiat voluptate amet deserunt magna mollit. "),e.qZA()()(),e.TgZ(32,"div",6),e._UZ(33,"div"),e.TgZ(34,"small",7)(35,"span"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"img",8),e.qZA()()()),2&t&&(e.xp6(36),e.Oqu(e.lcZ(37,1,"View More")))},dependencies:[P.Hw,s.X$]}),i})(),We=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-helena-news-widget"]],decls:105,vars:3,consts:[[1,"item","bdrRadius20px","bgWhite","boxShadowDown","width100","flex","flexDirectionCol","flexJustifyBetween","overflowHidden"],[1,"pad10","bdrBtm-D8D8D8","title","flex","flexAlignItemsCenter","flexJustifyBetween"],[1,"flex","flexAlignItemsCenter"],[1,"padleft5"],[1,"pad3","height100p","maxHeight400px","verticalScrollContainer"],[1,"flex","flexAlignItemsCenter","color-6a6a6a"],["src","./assets/shell/facebook.svg","alt","Facebook",1,"d35","mrgn10"],["src","./assets/shell/twitter.svg","alt","Twitter",1,"d35","mrgn10"],[1,"bg-F7F7F7","pad1015","font11","flex","flexJustifyBetween"],[1,"flex","flexJustifyBetween","flexAlignItemsCenter"],["src","./assets/shell/offers.svg","alt","Offers",1,"d15","mrgnleft5","hover-sidemenu"]],template:function(t,o){1&t&&(e.TgZ(0,"article",0)(1,"div",1)(2,"div",2)(3,"mat-icon"),e._uU(4,"library_books"),e.qZA(),e.TgZ(5,"span",3),e._uU(6,"Helena News"),e.qZA()(),e.TgZ(7,"mat-icon"),e._uU(8,"more_vert"),e.qZA()(),e.TgZ(9,"div",4)(10,"div",5),e._UZ(11,"img",6),e.TgZ(12,"div"),e._uU(13,"Nisi deserunt ex qui exercitation."),e.qZA()(),e.TgZ(14,"div",5),e._UZ(15,"img",7),e.TgZ(16,"div"),e._uU(17," Dolore duis sint aute sint est consectetur dolor dolore do incididunt magna excepteur. "),e.qZA()(),e.TgZ(18,"div",5),e._UZ(19,"img",6),e.TgZ(20,"div"),e._uU(21,"Nisi deserunt ex qui exercitation."),e.qZA()(),e.TgZ(22,"div",5),e._UZ(23,"img",7),e.TgZ(24,"div"),e._uU(25," Dolore duis sint aute sint est consectetur dolor dolore do incididunt magna excepteur. "),e.qZA()(),e.TgZ(26,"div",5),e._UZ(27,"img",6),e.TgZ(28,"div"),e._uU(29,"Nisi deserunt ex qui exercitation."),e.qZA()(),e.TgZ(30,"div",5),e._UZ(31,"img",7),e.TgZ(32,"div"),e._uU(33," Dolore duis sint aute sint est consectetur dolor dolore do incididunt magna excepteur. "),e.qZA()(),e.TgZ(34,"div",5),e._UZ(35,"img",6),e.TgZ(36,"div"),e._uU(37,"Nisi deserunt ex qui exercitation."),e.qZA()(),e.TgZ(38,"div",5),e._UZ(39,"img",7),e.TgZ(40,"div"),e._uU(41," Dolore duis sint aute sint est consectetur dolor dolore do incididunt magna excepteur. "),e.qZA()(),e.TgZ(42,"div",5),e._UZ(43,"img",6),e.TgZ(44,"div"),e._uU(45,"Nisi deserunt ex qui exercitation."),e.qZA()(),e.TgZ(46,"div",5),e._UZ(47,"img",7),e.TgZ(48,"div"),e._uU(49," Dolore duis sint aute sint est consectetur dolor dolore do incididunt magna excepteur. "),e.qZA()(),e.TgZ(50,"div",5),e._UZ(51,"img",6),e.TgZ(52,"div"),e._uU(53,"Nisi deserunt ex qui exercitation."),e.qZA()(),e.TgZ(54,"div",5),e._UZ(55,"img",7),e.TgZ(56,"div"),e._uU(57," Dolore duis sint aute sint est consectetur dolor dolore do incididunt magna excepteur. "),e.qZA()(),e.TgZ(58,"div",5),e._UZ(59,"img",6),e.TgZ(60,"div"),e._uU(61,"Nisi deserunt ex qui exercitation."),e.qZA()(),e.TgZ(62,"div",5),e._UZ(63,"img",7),e.TgZ(64,"div"),e._uU(65," Dolore duis sint aute sint est consectetur dolor dolore do incididunt magna excepteur. "),e.qZA()(),e.TgZ(66,"div",5),e._UZ(67,"img",6),e.TgZ(68,"div"),e._uU(69,"Nisi deserunt ex qui exercitation."),e.qZA()(),e.TgZ(70,"div",5),e._UZ(71,"img",7),e.TgZ(72,"div"),e._uU(73," Dolore duis sint aute sint est consectetur dolor dolore do incididunt magna excepteur. "),e.qZA()(),e.TgZ(74,"div",5),e._UZ(75,"img",6),e.TgZ(76,"div"),e._uU(77,"Nisi deserunt ex qui exercitation."),e.qZA()(),e.TgZ(78,"div",5),e._UZ(79,"img",7),e.TgZ(80,"div"),e._uU(81," Dolore duis sint aute sint est consectetur dolor dolore do incididunt magna excepteur. "),e.qZA()(),e.TgZ(82,"div",5),e._UZ(83,"img",6),e.TgZ(84,"div"),e._uU(85,"Nisi deserunt ex qui exercitation."),e.qZA()(),e.TgZ(86,"div",5),e._UZ(87,"img",7),e.TgZ(88,"div"),e._uU(89," Dolore duis sint aute sint est consectetur dolor dolore do incididunt magna excepteur. "),e.qZA()(),e.TgZ(90,"div",5),e._UZ(91,"img",6),e.TgZ(92,"div"),e._uU(93,"Nisi deserunt ex qui exercitation."),e.qZA()(),e.TgZ(94,"div",5),e._UZ(95,"img",7),e.TgZ(96,"div"),e._uU(97," Dolore duis sint aute sint est consectetur dolor dolore do incididunt magna excepteur. "),e.qZA()()(),e.TgZ(98,"div",8),e._UZ(99,"div"),e.TgZ(100,"small",9)(101,"span"),e._uU(102),e.ALo(103,"translate"),e.qZA(),e._UZ(104,"img",10),e.qZA()()()),2&t&&(e.xp6(102),e.Oqu(e.lcZ(103,1,"View More")))},dependencies:[P.Hw,s.X$]}),i})();const ke=["containerWeatherChart"];function Je(i,m){1&i&&(e.TgZ(0,"div",21)(1,"div",22),e._UZ(2,"app-empty-state",23),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("message",e.lcZ(3,2,"Weather data is not available at this time. Please check back later."))("className","d240 icon-common-no-data"))}function Be(i,m){if(1&i&&(e.TgZ(0,"div")(1,"div",24)(2,"div",25)(3,"div",26)(4,"div",27),e._UZ(5,"img",28),e.ALo(6,"titlecase"),e.TgZ(7,"div",29),e._uU(8),e.qZA()()(),e.TgZ(9,"div",26)(10,"div",30)(11,"div",31),e._uU(12),e.qZA(),e._UZ(13,"div",32),e.TgZ(14,"div",33)(15,"span",34),e._uU(16),e.qZA(),e._uU(17," / "),e.TgZ(18,"span",35),e._uU(19),e.qZA()()()()(),e._UZ(20,"div",32),e.TgZ(21,"div",36)(22,"div",37)(23,"b"),e._uU(24,"Wind Speed:"),e.qZA(),e._uU(25),e.qZA(),e._UZ(26,"div",38),e.TgZ(27,"div",37)(28,"b"),e._uU(29,"Today rainfall prediction:"),e.qZA(),e._uU(30),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("src","../assets/icons/weather/"+(null==t.appStore.weatherData||null==t.appStore.weatherData.today?null:t.appStore.weatherData.today.icon)+".png",e.LSH)("matTooltip",e.lcZ(6,10,null==t.appStore.weatherData||null==t.appStore.weatherData.today?null:t.appStore.weatherData.today.narrative))("matTooltipPosition","left"),e.xp6(3),e.hij(" ",null==t.appStore.weatherData||null==t.appStore.weatherData.today?null:t.appStore.weatherData.today.shortNarrative," "),e.xp6(4),e.hij(" ",null==t.appStore.weatherData||null==t.appStore.weatherData.today?null:t.appStore.weatherData.today.maxTemp," \xb0F "),e.xp6(4),e.hij("",null==t.appStore.weatherData||null==t.appStore.weatherData.today?null:t.appStore.weatherData.today.maxTemp," \xb0F"),e.xp6(3),e.hij("",null==t.appStore.weatherData||null==t.appStore.weatherData.today?null:t.appStore.weatherData.today.minTemp," \xb0F"),e.xp6(6),e.AsE(" ",null==t.appStore.weatherData||null==t.appStore.weatherData.today?null:t.appStore.weatherData.today.windDirection," - ",null==t.appStore.weatherData||null==t.appStore.weatherData.today?null:t.appStore.weatherData.today.windSpeed," mph "),e.xp6(5),e.hij(" ",null==t.appStore.weatherData||null==t.appStore.weatherData.today?null:t.appStore.weatherData.today.rainFallPrediction,'" ')}}function He(i,m){if(1&i&&(e.TgZ(0,"div",45)(1,"div",46),e._uU(2),e.qZA(),e.TgZ(3,"div",47),e._uU(4),e.ALo(5,"date"),e.qZA(),e._UZ(6,"div",48),e.TgZ(7,"div"),e._UZ(8,"img",49),e.ALo(9,"titlecase"),e.qZA(),e._UZ(10,"div",48),e.TgZ(11,"div",47),e._uU(12),e.ALo(13,"titlecase"),e.qZA(),e.TgZ(14,"div",47),e._uU(15),e.qZA()()),2&i){const t=m.$implicit;e.xp6(2),e.Oqu(null==t?null:t.day),e.xp6(2),e.Oqu(e.xi3(5,6,null==t?null:t.date,"MMM d")),e.xp6(4),e.s9C("matTooltip",e.lcZ(9,9,null==t?null:t.narrative)),e.Q6J("src","../assets/icons/weather/"+t.icon+".png",e.LSH),e.xp6(4),e.Oqu(e.lcZ(13,11,null==t?null:t.shortNarrative)),e.xp6(3),e.hij("",null==t?null:t.temp,"\u2109")}}function je(i,m){if(1&i&&(e.TgZ(0,"div",43),e.YNc(1,He,16,13,"div",44),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.appStore.weeklyWeather)}}function Ye(i,m){if(1&i&&(e.TgZ(0,"div")(1,"div",39),e.YNc(2,je,2,1,"div",40),e._UZ(3,"div",41,42),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.widgetView.weather.data)}}Z()(L),v()(L),F()(L);let Pe=(()=>{class i{constructor(t,o,x){this.appService=t,this.appStore=o,this.router=x,this.toggle=!0,this.status="Enable",this._destroy=new oe.x,this.postal_code="",this.widgetView={weather:{graph:!1,data:!0}}}ngOnInit(){this.appStore.isLoggedIn()&&this.appStore.user._id?(this.postal_code=this.appStore.user.postal_code,this.triggerWeatherAPI()):this.appService.verifyUserEmitter.pipe((0,l.R)(this._destroy)).subscribe(t=>{t&&(this.postal_code=this.appStore.user.postal_code,this.triggerWeatherAPI())})}getWeatherForEnteredPostal(){5==this.postal_code.length&&""!=this.postal_code&&this.triggerWeatherAPI(!0)}triggerWeatherAPI(t){5==this.postal_code.length&&""!=this.postal_code&&this.appService.getWeatherDataReq(this.postal_code).pipe((0,l.R)(this._destroy)).subscribe(o=>{this.constructWeatherData(o),t&&this.updateShipToPostalCode()},o=>{this.appStore.weatherData=null,this.appStore.weeklyWeather=null})}constructWeatherData(t){this.appStore.weatherData=t,this.appStore.weatherData.today={date:new Date(t.validTimeLocal[0]),maxTemp:t.calendarDayTemperatureMax[0],minTemp:t.calendarDayTemperatureMin[0],icon:t.daypart[0].iconCode[0]?t.daypart[0].iconCode[0]:t.daypart[0].iconCode[1],narrative:t.narrative[0],shortNarrative:t.daypart[0].wxPhraseLong[0]?t.daypart[0].wxPhraseLong[0]:t.daypart[0].wxPhraseLong[1],windSpeed:t.daypart[0].windSpeed[0]?t.daypart[0].windSpeed[0]:t.daypart[0].windSpeed[1],windPhrase:t.daypart[0].windPhrase[0]?t.daypart[0].windPhrase[0]:t.daypart[0].windPhrase[1],windDirection:t.daypart[0].windDirectionCardinal[0]?t.daypart[0].windDirectionCardinal[0]:t.daypart[0].windDirectionCardinal[1],rainFallPrediction:t.daypart[0].qpf[0]?t.daypart[0].qpf[0]:t.daypart[0].qpf[1]},this.appStore.weatherData.week={date:[],day:[],temp:[],icon:[],narrative:[],shortNarrative:[]},this.appStore.weatherData.weekList=[];for(let x=0;x<=11;x+=2)this.appStore.weatherData.week.icon.push(t.daypart[0].iconCode[x]),this.appStore.weatherData.week.shortNarrative.push(t.daypart[0].wxPhraseShort[x]);this.appStore.weatherData.week.date=[...t.validTimeLocal],this.appStore.weatherData.week.day=[...t.dayOfWeek],this.appStore.weatherData.week.temp=[...t.calendarDayTemperatureMax],this.appStore.weatherData.week.narrative=[...t.narrative],this.appStore.weatherData.week.date.shift(),this.appStore.weatherData.week.day.shift(),this.appStore.weatherData.week.temp.shift(),this.appStore.weatherData.week.narrative.shift(),this.appStore.weatherData.week.shortNarrative.shift(),this.appStore.weatherData.week.icon.shift();let o=[];for(let x in this.appStore.weatherData.week.date){let S={};for(let ne of Object.keys(this.appStore.weatherData.week))S[ne]=this.appStore.weatherData.week[ne][x];o.push({...S})}this.appStore.weeklyWeather=[...o],this.appStore.temperature=[...this.appStore.weatherData.week.temp],this.appStore.weeklyDays=[...this.appStore.weatherData.week.day]}updateShipToPostalCode(){this.appService.reqUpdateUser({user_id:this.appStore.user._id,ship_to_postal_code:this.postal_code}).pipe((0,l.R)(this._destroy)).subscribe({next:o=>{},error:o=>{console.log(o)}})}toggleWidget(t){null!=this.appStore.weatherData&&(this.widgetView[t].graph=!this.widgetView[t].graph,this.widgetView[t].data=!this.widgetView[t].data,this.widgetView.weather.graph||this.weatherChart.destroy(),this.widgetView.weather.graph&&this.graphChart()),this.enableDisableRule()}enableDisableRule(){this.toggle=!this.toggle,this.status=this.toggle?"Enable":"Disable"}graphChart(){this.weatherChart=L.chart(this.containerWeatherChart.nativeElement,{scrollbar:{liveRedraw:!0},chart:{backgroundColor:"transparent",spacingBottom:15,spacingTop:15,spacingLeft:10,spacingRight:15,height:"31.25%",reflow:!0,style:{color:"#808080"}},series:[{showInLegend:!1,name:"Days",data:this.appStore.temperature,type:"spline",color:"#87ceeb"}],title:{text:""},yAxis:{allowDecimals:!1,title:{text:" "},labels:{style:{color:"#808080"}}},xAxis:{categories:this.appStore.weeklyDays,allowDecimals:!1,title:{text:" "},labels:{enabled:!0,style:{color:"#808080"}}},credits:{enabled:!1},exporting:{enabled:!1},tooltip:{borderRadius:20,borderWidth:0,formatter:function(t){return["<div class='fontWeight600'>",this.y+" &deg;F","</div>"].join("")}}})}ngOnDestroy(){this._destroy.next(!0),this._destroy.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I.z),e.Y36(A.d),e.Y36(ge.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-weather"]],viewQuery:function(t,o){if(1&t&&e.Gf(ke,5,e.SBq),2&t){let x;e.iGM(x=e.CRH())&&(o.containerWeatherChart=x.first)}},decls:30,vars:23,consts:[["id","weatherWidgetContainer",1,"flex","height100p"],["tourAnchor","weather-widget",1,"width100","bdrRadius15px","bgWhite","boxShadowDown","flexDirectionCol","overflowHidden"],["id","weatherForeastBarchart",1,"pad10","title","flex","flexAlignItemsCenter","flexJustifyBetween","bdrBtm-D8D8D8","height65px"],["id","weatherForecstHeaderText",1,"flex","flexAlignItemsCenter"],[1,"icns","d25","icon-weather","color-black"],[1,"color-6a6a6a","padleft10","fontWeight600","font18"],[1,"flex","flexAlignItemsCenter"],[1,"icns","d22","icon-Information","mrgnright5",3,"matTooltip"],[3,"iconButton","buttonType","label","tooltip","styleClass","triggerButton"],[1,"height290px","width100"],[1,"flex","flexAlignItemsCenter","flexJustifyBetween","pad10","padbtm0"],[1,"padleft10","padright10","width50"],[1,"pad5","flex","flexAlignItemsStart","flexJustifyCenter","flexDirectionCol"],[1,"font12","mrgnleft5","color-6a6a6a"],[1,"font14","mrgnleft5","color-6a6a6a"],[1,"flex","padding0","width50"],["appearance","outline",1,"field-height","padright5","width100"],[1,"font12"],["matInput","","oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');","id","postalCode","type","text","autocomplete","false",3,"ngModel","ngModelChange","keyup"],["class","flex flexDirectionCol flexAlignItemsCenter flexJustifyBetween width100 height100p",4,"ngIf"],[4,"ngIf"],[1,"flex","flexDirectionCol","flexAlignItemsCenter","flexJustifyBetween","width100","height100p"],[1,"flex","flexJustifyCenter"],[3,"message","className"],[1,"width100","flex","flexDirectionCol","flexJustifyStart","pad5","height100p"],[1,"flex"],[1,"width50"],[1,"width100","flex","flexDirectionCol","flexAlignItemsCenter"],[1,"d80",3,"src","matTooltip","matTooltipPosition"],[1,"font16","fontWeight600","color-6a6a6a"],[1,"width100","flex","flexDirectionCol","flexAlignItemsCenter","height100p","flexJustifyCenter"],[1,"font30","fontWeight600","color-007EFF"],[1,"pad10"],[1,"font20","fontWeight500"],[1,"color-007EFF"],[1,"color-6a6a6a"],[1,"flex","flexAlignItemsCenter","flexDirectionCol","flexJustifyAround"],[1,"font14","color-6a6a6a"],[1,"pad5"],[1,"height190px","bdrTop-D8D8D8"],["class","txtCenter flex bdrRadius15px flexJustifyAround flexAlignItemsCenter padtop10 padbtm10 height100p",4,"ngIf"],[1,"txtCenter","flex","bdrRadius15px","flexJustifyAround"],["containerWeatherChart",""],[1,"txtCenter","flex","bdrRadius15px","flexJustifyAround","flexAlignItemsCenter","padtop10","padbtm10","height100p"],["class","flex flexDirectionCol flexAlignItemsCenter flexJustifyCenter",4,"ngFor","ngForOf"],[1,"flex","flexDirectionCol","flexAlignItemsCenter","flexJustifyCenter"],[1,"color-6a6a6a","font14","fontWeight600"],[1,"color-6a6a6a","font12"],[1,"pad3"],[1,"d40","mrgn3",3,"src","matTooltip"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"article",1)(2,"div",2)(3,"div",3),e._UZ(4,"i",4),e.TgZ(5,"span",5),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",6),e._UZ(9,"i",7),e.ALo(10,"translate"),e.TgZ(11,"app-button",8),e.NdJ("triggerButton",function(){return o.toggleWidget("weather")}),e.qZA()()(),e.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),e._uU(17),e.qZA(),e.TgZ(18,"div",14),e._uU(19),e.ALo(20,"date"),e.qZA()()(),e.TgZ(21,"div",15)(22,"mat-form-field",16)(23,"mat-label",17),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"input",18),e.NdJ("ngModelChange",function(S){return o.postal_code=S})("keyup",function(){return o.getWeatherForEnteredPostal()}),e.qZA()()()(),e.YNc(27,Je,4,4,"div",19),e.YNc(28,Be,31,12,"div",20),e.qZA(),e.YNc(29,Ye,5,1,"div",20),e.qZA()()),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,14,"Weather Forecast")),e.xp6(3),e.s9C("matTooltip",e.lcZ(10,16,"Weather Report")),e.xp6(2),e.Q6J("iconButton",!0)("buttonType","mat-flat-button")("label","bar_chart")("tooltip",o.toggle?"Graph View":"Normal View")("styleClass",o.toggle?"fffff color-6a6a6a pad0 minWidth30px lineHeight30px":"active color-6a6a6a pad0 minWidth30px lineHeight30px"),e.xp6(6),e.Oqu(null==o.appStore.weatherData?null:o.appStore.weatherData.dayOfWeek[0]),e.xp6(2),e.Oqu(e.xi3(20,18,null==o.appStore.weatherData||null==o.appStore.weatherData.today?null:o.appStore.weatherData.today.date,"MMM d, y")),e.xp6(5),e.Oqu(e.lcZ(25,21,"Postal Code")),e.xp6(2),e.Q6J("ngModel",o.postal_code),e.xp6(1),e.Q6J("ngIf",!(null!=o.appStore.weatherData&&o.appStore.weatherData.today)),e.xp6(1),e.Q6J("ngIf",null==o.appStore.weatherData?null:o.appStore.weatherData.today),e.xp6(1),e.Q6J("ngIf",null==o.appStore.weatherData?null:o.appStore.weatherData.today))},dependencies:[ae.sg,ae.O5,b.Fj,b.JJ,b.On,se.KE,se.hX,D.Nt,ce.gM,k.JA,n.s,r.r,ae.rS,ae.uU,s.X$],styles:[".padding0[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}"]}),i})();function Ge(i,m){1&i&&(e.TgZ(0,"div",8)(1,"div",9),e._UZ(2,"app-coming-soon-widget",10)(3,"app-coming-soon-widget",10),e.qZA(),e.TgZ(4,"div",9),e._UZ(5,"app-recent-activity-widget",10)(6,"app-coming-soon-widget",10),e.qZA(),e.TgZ(7,"div",11),e._UZ(8,"app-helena-news-widget",12),e.qZA()())}const Qe=[{path:"",component:(()=>{class i{constructor(t,o,x){this.appService=t,this.appStore=o,this.router=x,this.subscription=new g.w0}ngOnInit(){this.appStore.user.onboarding=!1,this.appStore.setAppTitle("Home")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I.z),e.Y36(A.d),e.Y36(ge.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-home"]],decls:12,vars:1,consts:[["id","homeContainer",1,"pad3","width100"],[1,"width100"],["id","invoiceWeatherSection",1,"flex","flexResponsive"],["id","invoiceSection",1,"width65","pad10","height542px"],["id","weatherSection",1,"width35","pad10","height542px"],["id","commoditiesSection",1,"width100","pad10"],["id","storeLocatorSection",1,"width100","pad10"],["class","flex flexResponsive flexJustifyBetween flexAlignItemsStretch width100",4,"ngIf"],[1,"flex","flexResponsive","flexJustifyBetween","flexAlignItemsStretch","width100"],[1,"width100","flex","flexDirectionCol","flexJustifyCenter"],[1,"width100","pad10","height100p"],[1,"width100","flex","flexDirectionCol","flexAlignItemsStretch"],[1,"width100","pad10","height100p","flex","flexAlignItemsStretch"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"app-invoice-widget"),e.qZA(),e.TgZ(5,"div",4),e._UZ(6,"app-weather"),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"app-commodities-widget"),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"app-store-locator"),e.qZA(),e.YNc(11,Ge,9,0,"div",7),e.qZA()()),2&t&&(e.xp6(11),e.Q6J("ngIf",!1))},dependencies:[ae.O5,ve,me,Oe,Re,qe,We,Pe]}),i})()}];let Ve=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[ge.Bz.forChild(Qe),ge.Bz]}),i})();var $e=W(1409),Ke=W(248),ze=W(7705);let Xe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[$e.l,ae.ez,Ve,b.u5,b.UX,Ke.m,ze.Y4,k.jo]}),i})()},2589:(_e,Ze,W)=>{var ae,ge,g;g=function(g){function e(I,A,C,L){I.hasOwnProperty(A)||(I[A]=L.apply(null,C))}e(g=g?g._modules:{},"Core/HttpUtilities.js",[g["Core/Globals.js"],g["Core/Utilities.js"]],function(I,A){var C=I.doc,L=A.createElement,te=A.discardElement,Z=A.merge,u=A.objectEach,q={ajax:function(v){var f=Z(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},v);v={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"};var F=new XMLHttpRequest;if(!f.url)return!1;F.open(f.type.toUpperCase(),f.url,!0),f.headers["Content-Type"]||F.setRequestHeader("Content-Type",v[f.dataType]||v.text),u(f.headers,function(b,B){F.setRequestHeader(B,b)}),F.onreadystatechange=function(){if(4===F.readyState){if(200===F.status){var b=F.responseText;if("json"===f.dataType)try{b=JSON.parse(b)}catch(B){return void(f.error&&f.error(F,B))}return f.success&&f.success(b)}f.error&&f.error(F,F.responseText)}};try{f.data=JSON.stringify(f.data)}catch{}F.send(f.data||!0)},getJSON:function(v,f){q.ajax({url:v,success:f,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(v,f,F){var b=L("form",Z({method:"post",action:v,enctype:"multipart/form-data"},F),{display:"none"},C.body);u(f,function(B,se){L("input",{type:"hidden",name:se,value:B},null,b)}),b.submit(),te(b)}};return q}),e(g,"Extensions/Data.js",[g["Core/Chart/Chart.js"],g["Core/Globals.js"],g["Core/HttpUtilities.js"],g["Core/Series/Point.js"],g["Core/Series/SeriesRegistry.js"],g["Core/Utilities.js"]],function(I,A,C,L,te,Z){var u=A.doc,q=C.ajax,v=te.seriesTypes;C=Z.addEvent;var f=Z.defined,F=Z.extend,b=Z.fireEvent,B=Z.isNumber,se=Z.merge,Ae=Z.objectEach,ye=Z.pick,Te=Z.splat;Z=function(){function k(n,r,s){this.options=this.rawColumns=this.firstRowAsNames=this.chartOptions=this.chart=void 0,this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(a){return a?Date.UTC(+a[1],a[2]-1,+a[3]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[3],a[2]-1,+a[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[3],a[1]-1,+a[2]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(a){if(!a)return NaN;var p=+a[3];return p=p>(new Date).getFullYear()-2e3?p+1900:p+2e3,Date.UTC(p,a[2]-1,+a[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(a){return a?Date.UTC(+a[3]+2e3,a[1]-1,+a[2]):NaN}}},this.init(n,r,s)}return k.prototype.init=function(n,r,s){var a=n.decimalPoint;if(r&&(this.chartOptions=r),s&&(this.chart=s),"."!==a&&","!==a&&(a=void 0),this.options=n,this.columns=n.columns||this.rowsToColumns(n.rows)||[],this.firstRowAsNames=ye(n.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=a&&new RegExp("^(-?[0-9]+)"+a+"([0-9]+)$"),this.rawColumns=[],this.columns.length){this.dataFound();var p=!0}this.hasURLOption(n)&&(clearTimeout(this.liveDataTimeout),p=!1),p||(p=this.fetchLiveData()),p||(p=!!this.parseCSV().length),p||(p=!!this.parseTable().length),p||(p=this.parseGoogleSpreadsheet()),!p&&n.afterComplete&&n.afterComplete()},k.prototype.hasURLOption=function(n){return!(!n||!(n.rowsURL||n.csvURL||n.columnsURL))},k.prototype.getColumnDistribution=function(){var E,n=this.chartOptions,r=this.options,s=[],a=function(M){return(v[M||"line"].prototype.pointArrayMap||[0]).length},p=n&&n.chart&&n.chart.type,h=[],w=[],U=0;r=r&&r.seriesMapping||n&&n.series&&n.series.map(function(){return{x:0}})||[],(n&&n.series||[]).forEach(function(M){h.push(a(M.type||p))}),r.forEach(function(M){s.push(M.x||0)}),0===s.length&&s.push(0),r.forEach(function(M){var T=new ce,Q=h[U]||a(p),V=(n&&n.series||[])[U]||{},z=v[V.type||p||"line"].prototype.pointArrayMap,J=z||["y"];for((f(M.x)||V.isCartesian||!z)&&T.addColumnReader(M.x,"x"),Ae(M,function(X,$){"x"!==$&&T.addColumnReader(X,$)}),E=0;E<Q;E++)T.hasReader(J[E])||T.addColumnReader(void 0,J[E]);w.push(T),U++}),typeof(r=v[p||"line"].prototype.pointArrayMap)>"u"&&(r=["y"]),this.valueCount={global:a(p),xColumns:s,individual:h,seriesBuilders:w,globalPointArrayMap:r}},k.prototype.dataFound=function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),!1!==this.parsed()&&this.complete()},k.prototype.parseCSV=function(n){function r($,H,j,O){function ie(l){N=$[l],ee=$[l-1],xe=$[l+1]}function Y(l){Q.length<oe+1&&Q.push([l]),Q[oe][Q[oe].length-1]!==l&&Q[oe].push(l)}function le(){E>ve||ve>M?(++ve,pe=""):(!isNaN(parseFloat(pe))&&isFinite(pe)?(pe=parseFloat(pe),Y("number")):isNaN(Date.parse(pe))?Y("string"):(pe=pe.replace(/\//g,"-"),Y("date")),z.length<oe+1&&z.push([]),j||(z[oe][H]=pe),pe="",++oe,++ve)}var d=0,N="",ee="",xe="",pe="",ve=0,oe=0;if($.trim().length&&"#"!==$.trim()[0]){for(;d<$.length;d++)if(ie(d),'"'===N)for(ie(++d);d<$.length&&('"'!==N||'"'===ee||'"'===xe);)('"'!==N||'"'===N&&'"'!==ee)&&(pe+=N),ie(++d);else O&&O[N]?O[N](N,pe)&&le():N===J?le():pe+=N;le()}}var p=this,h=n||this.options,w=h.csv;n=typeof h.startRow<"u"&&h.startRow?h.startRow:0;var U=h.endRow||Number.MAX_VALUE,E=typeof h.startColumn<"u"&&h.startColumn?h.startColumn:0,M=h.endColumn||Number.MAX_VALUE,T=0,Q=[],V={",":0,";":0,"\t":0},z=this.columns=[];if(w&&h.beforeParse&&(w=h.beforeParse.call(this,w)),w){if(w=w.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(h.lineDelimiter||"\n"),(!n||0>n)&&(n=0),(!U||U>=w.length)&&(U=w.length-1),h.itemDelimiter)var J=h.itemDelimiter;else J=null,J=function s($){var O,H=0,j=0;return $.some(function(ie,Y){var le=!1,d="";if(13<Y)return!0;for(var N=0;N<ie.length;N++){var ee=ie[N+1],xe=ie[N-1];if("#"===(Y=ie[N]))break;if('"'===Y)if(le){if('"'!==xe&&'"'!==ee){for(;" "===ee&&N<ie.length;)ee=ie[++N];typeof V[ee]<"u"&&V[ee]++,le=!1}}else le=!0;else typeof V[Y]<"u"?(d=d.trim(),isNaN(Date.parse(d))&&!isNaN(d)&&isFinite(d)||V[Y]++,d=""):d+=Y;","===Y&&j++,"."===Y&&H++}}),O=V[";"]>V[","]?";":",",h.decimalPoint||(h.decimalPoint=H>j?".":",",p.decimalRegex=new RegExp("^(-?[0-9]+)"+h.decimalPoint+"([0-9]+)$")),O}(w);var X=0;for(T=n;T<=U;T++)"#"===w[T][0]?X++:r(w[T],T-n-X);h.columnTypes&&0!==h.columnTypes.length||!Q.length||!Q[0].length||"date"!==Q[0][1]||h.dateFormat||(h.dateFormat=function a($,H){var d,j=[],O=0,ie=!1,Y=[],le=[];for((!H||H>$.length)&&(H=$.length);O<H;O++)if(typeof $[O]<"u"&&$[O]&&$[O].length){var N=$[O].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" ");for(j=["","",""],d=0;d<N.length;d++)d<j.length&&(N[d]=parseInt(N[d],10),N[d]&&(le[d]=!le[d]||le[d]<N[d]?N[d]:le[d],typeof Y[d]<"u"?Y[d]!==N[d]&&(Y[d]=!1):Y[d]=N[d],31<N[d]?j[d]=100>N[d]?"YY":"YYYY":12<N[d]&&31>=N[d]?(j[d]="dd",ie=!0):j[d].length||(j[d]="mm")))}if(ie){for(d=0;d<Y.length;d++)!1!==Y[d]?12<le[d]&&"YY"!==j[d]&&"YYYY"!==j[d]&&(j[d]="YY"):12<le[d]&&"mm"===j[d]&&(j[d]="dd");return 3===j.length&&"dd"===j[1]&&"dd"===j[2]&&(j[2]="YY"),$=j.join("/"),(h.dateFormats||p.dateFormats)[$]?$:(b("deduceDateFailed"),"YYYY/mm/dd")}return"YYYY/mm/dd"}(z[0])),this.dataFound()}return z},k.prototype.parseTable=function(){var n=this.options,r=n.table,s=this.columns||[],a=n.startRow||0,p=n.endRow||Number.MAX_VALUE,h=n.startColumn||0,w=n.endColumn||Number.MAX_VALUE;return r&&("string"==typeof r&&(r=u.getElementById(r)),[].forEach.call(r.getElementsByTagName("tr"),function(U,E){E>=a&&E<=p&&[].forEach.call(U.children,function(M,T){var Q=s[T-h],V=1;if(("TD"===M.tagName||"TH"===M.tagName)&&T>=h&&T<=w)for(s[T-h]||(s[T-h]=[]),s[T-h][E-a]=M.innerHTML;E-a>=V&&void 0===Q[E-a-V];)Q[E-a-V]=null,V++})}),this.dataFound()),s},k.prototype.fetchLiveData=function(){var r=this,s=this.chart,a=this.options,p=0,h=a.enablePolling,w=1e3*(a.dataRefreshRate||2),U=se(a);return!!this.hasURLOption(a)&&(1e3>w&&(w=1e3),delete a.csvURL,delete a.rowsURL,delete a.columnsURL,function n(E){function M(T,Q,V){function z(){h&&s.liveDataURL===T&&(r.liveDataTimeout=setTimeout(n,w))}return T&&/^(http|\/|\.\/|\.\.\/)/.test(T)?(E&&(clearTimeout(r.liveDataTimeout),s.liveDataURL=T),q({url:T,dataType:V||"json",success:function(J){s&&s.series&&Q(J),z()},error:function(J,X){return 3>++p&&z(),a.error&&a.error(X,J)}}),!0):(T&&a.error&&a.error("Invalid URL"),!1)}M(U.csvURL,function(T){s.update({data:{csv:T}})},"text")||M(U.rowsURL,function(T){s.update({data:{rows:T}})})||M(U.columnsURL,function(T){s.update({data:{columns:T}})})}(!0),this.hasURLOption(a))},k.prototype.parseGoogleSpreadsheet=function(){var r=this,s=this.options,a=s.googleSpreadsheetKey,p=this.chart,h=Math.max(1e3*(s.dataRefreshRate||2),4e3),w=function(){if(s.googleSpreadsheetRange)return s.googleSpreadsheetRange;var U=("ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(s.startColumn||0)||"A")+((s.startRow||0)+1),E="ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ye(s.endColumn,-1))||"ZZ";return f(s.endRow)&&(E+=s.endRow+1),U+":"+E};return a&&(delete s.googleSpreadsheetKey,function n(U){var E=["https://sheets.googleapis.com/v4/spreadsheets",a,"values",w(),"?alt=json&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE&dateTimeRenderOption=FORMATTED_STRING&key="+s.googleAPIKey].join("/");q({url:E,dataType:"json",success:function(M){U(M),s.enablePolling&&setTimeout(function(){n(U)},h)},error:function(M,T){return s.error&&s.error(T,M)}})}(function(U){if(!(U=U.values)||0===U.length)return!1;var E=U.reduce(function(M,T){return Math.max(M,T.length)},0);U.forEach(function(M){for(var T=0;T<E;T++)typeof M[T]>"u"&&(M[T]=null)}),p&&p.series?p.update({data:{columns:U}}):(r.columns=U,r.dataFound())})),!1},k.prototype.trim=function(n,r){return"string"==typeof n&&(n=n.replace(/^\s+|\s+$/g,""),r&&/^[0-9\s]+$/.test(n)&&(n=n.replace(/\s/g,"")),this.decimalRegex&&(n=n.replace(this.decimalRegex,"$1.$2"))),n},k.prototype.parseTypes=function(){for(var n=this.columns,r=n.length;r--;)this.parseColumn(n[r],r)},k.prototype.parseColumn=function(n,r){var U,T,s=this.rawColumns,a=this.columns,p=n.length,h=this.firstRowAsNames,w=-1!==this.valueCount.xColumns.indexOf(r),E=[],M=this.chartOptions,Q=(this.options.columnTypes||[])[r];for(M=w&&(M&&M.xAxis&&"category"===Te(M.xAxis)[0].type||"string"===Q),s[r]||(s[r]=[]);p--;){var V=E[p]||n[p],z=this.trim(V),J=this.trim(V,!0),X=parseFloat(J);typeof s[r][p]>"u"&&(s[r][p]=z),M||0===p&&h?n[p]=""+z:+J===X?(n[p]=X,31536e6<X&&"float"!==Q?n.isDatetime=!0:n.isNumeric=!0,typeof n[p+1]<"u"&&(T=X>n[p+1])):(z&&z.length&&(U=this.parseDate(V)),w&&B(U)&&"float"!==Q?(E[p]=V,n[p]=U,n.isDatetime=!0,typeof n[p+1]<"u"&&((V=U>n[p+1])!==T&&typeof T<"u"&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,p=n.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):n.unsorted=!0),T=V)):(n[p]=""===z?null:z,0!==p&&(n.isDatetime||n.isNumeric)&&(n.mixed=!0)))}if(w&&n.mixed&&(a[r]=s[r]),w&&T&&this.options.sort)for(r=0;r<a.length;r++)a[r].reverse(),h&&a[r].unshift(a[r].pop())},k.prototype.parseDate=function(n){var s,p,r=this.options.parseDate,a=this.options.dateFormat||this.dateFormat;if(r)var h=r(n);else if("string"==typeof n){if(a)(r=this.dateFormats[a])||(r=this.dateFormats["YYYY/mm/dd"]),(p=n.match(r.regex))&&(h=r.parser(p));else for(s in this.dateFormats)if(p=n.match((r=this.dateFormats[s]).regex)){this.dateFormat=s,this.alternativeFormat=r.alternative,h=r.parser(p);break}p||(n.match(/:.+(GMT|UTC|[Z+-])/)&&(n=n.replace(/\s*(?:GMT|UTC)?([+-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),"object"==typeof(p=Date.parse(n))&&null!==p&&p.getTime?h=p.getTime()-6e4*p.getTimezoneOffset():B(p)&&(h=p-6e4*new Date(p).getTimezoneOffset()))}return h},k.prototype.rowsToColumns=function(n){var r,s;if(n){var a=[],p=n.length;for(r=0;r<p;r++){var h=n[r].length;for(s=0;s<h;s++)a[s]||(a[s]=[]),a[s][r]=n[r][s]}}return a},k.prototype.getData=function(){if(this.columns)return this.rowsToColumns(this.columns).slice(1)},k.prototype.parsed=function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},k.prototype.getFreeIndexes=function(n,r){var s,a=[],p=[];for(s=0;s<n;s+=1)a.push(!0);for(n=0;n<r.length;n+=1){var h=r[n].getReferencedColumnIndexes();for(s=0;s<h.length;s+=1)a[h[s]]=!1}for(s=0;s<a.length;s+=1)a[s]&&p.push(s);return p},k.prototype.complete=function(){var r,a,p,n=this.columns,s=this.options,h=[];if(s.complete||s.afterComplete){if(this.firstRowAsNames)for(a=0;a<n.length;a++){var w=n[a];f(w.name)||(w.name=ye(w.shift(),"").toString())}w=[];var U=this.getFreeIndexes(n.length,this.valueCount.seriesBuilders);for(a=0;a<this.valueCount.seriesBuilders.length;a++){var E=this.valueCount.seriesBuilders[a];E.populateColumns(U)&&h.push(E)}for(;0<U.length;){for((E=new ce).addColumnReader(0,"x"),-1!==(a=U.indexOf(0))&&U.splice(a,1),a=0;a<this.valueCount.global;a++)E.addColumnReader(void 0,this.valueCount.globalPointArrayMap[a]);E.populateColumns(U)&&h.push(E)}if(0<h.length&&0<h[0].readers.length&&typeof(E=n[h[0].readers[0].columnIndex])<"u"&&(E.isDatetime?r="datetime":E.isNumeric||(r="category")),"category"===r)for(a=0;a<h.length;a++)for(E=h[a],U=0;U<E.readers.length;U++)"x"===E.readers[U].configName&&(E.readers[U].configName="name");for(a=0;a<h.length;a++){for(E=h[a],U=[],p=0;p<n[0].length;p++)U[p]=E.read(n,p);w[a]={data:U},E.name&&(w[a].name=E.name),"category"===r&&(w[a].turboThreshold=0)}n={series:w},r&&(n.xAxis={type:r},"category"===r&&(n.xAxis.uniqueNames=!1)),s.complete&&s.complete(n),s.afterComplete&&s.afterComplete(n)}},k.prototype.update=function(n,r){var s=this.chart;n&&(n.afterComplete=function(a){a&&(a.xAxis&&s.xAxis[0]&&a.xAxis.type===s.xAxis[0].options.type&&delete a.xAxis,s.update(a,r,!0))},se(!0,s.options.data,n),this.init(s.options.data))},k}(),A.data=function(k,n,r){return new A.Data(k,n,r)},C(I,"init",function(k){var n=this,r=k.args[0]||{},s=k.args[1];r&&r.data&&!n.hasDataDef&&(n.hasDataDef=!0,n.data=new A.Data(F(r.data,{afterComplete:function(a){var p;if(Object.hasOwnProperty.call(r,"series"))if("object"==typeof r.series)for(p=Math.max(r.series.length,a&&a.series?a.series.length:0);p--;)r.series[p]=se(r.series[p]||{},a&&a.series?a.series[p]:{});else delete r.series;r=se(a,r),n.init(r,s)}}),r,n),k.preventDefault())});var ce=function(){function k(){this.readers=[],this.pointIsArray=!0,this.name=void 0}return k.prototype.populateColumns=function(n){var r=!0;return this.readers.forEach(function(s){typeof s.columnIndex>"u"&&(s.columnIndex=n.shift())}),this.readers.forEach(function(s){typeof s.columnIndex>"u"&&(r=!1)}),r},k.prototype.read=function(n,r){var s=this.pointIsArray,a=s?[]:{};if(this.readers.forEach(function(h){var w=n[h.columnIndex][r];s?a.push(w):0<h.configName.indexOf(".")?L.prototype.setNestedProperty(a,w,h.configName):a[h.configName]=w}),typeof this.name>"u"&&2<=this.readers.length){var p=this.getReferencedColumnIndexes();2<=p.length&&(p.shift(),p.sort(function(h,w){return h-w}),this.name=n[p.shift()].name)}return a},k.prototype.addColumnReader=function(n,r){this.readers.push({columnIndex:n,configName:r}),"x"!==r&&"y"!==r&&typeof r<"u"&&(this.pointIsArray=!1)},k.prototype.getReferencedColumnIndexes=function(){var n,r=[];for(n=0;n<this.readers.length;n+=1){var s=this.readers[n];typeof s.columnIndex<"u"&&r.push(s.columnIndex)}return r},k.prototype.hasReader=function(n){var r;for(r=0;r<this.readers.length;r+=1)if(this.readers[r].configName===n)return!0},k}();return A.Data=Z,A.Data}),e(g,"masters/modules/data.src.js",[g["Core/Globals.js"],g["Core/HttpUtilities.js"],g["Extensions/Data.js"]],function(I,A,C){I.ajax=A.ajax,I.getJSON=A.getJSON,I.post=A.post,I.Data=C,I.HttpUtilities=A})},_e.exports?(g.default=g,_e.exports=g):(ae=[W(3470)],void 0!==(ge=function(e){return g(e),g.Highcharts=e,g}.apply(Ze,ae))&&(_e.exports=ge))},4737:(_e,Ze,W)=>{var ae,ge,g;g=function(g){function e(I,A,C,L){I.hasOwnProperty(A)||(I[A]=L.apply(null,C))}e(g=g?g._modules:{},"Extensions/DownloadURL.js",[g["Core/Globals.js"]],function(I){var A=I.isSafari,C=I.win,L=C.document,te=C.URL||C.webkitURL||C,Z=I.dataURLtoBlob=function(u){if((u=u.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<u.length&&C.atob&&C.ArrayBuffer&&C.Uint8Array&&C.Blob&&te.createObjectURL){var q=C.atob(u[3]),v=new C.ArrayBuffer(q.length);v=new C.Uint8Array(v);for(var f=0;f<v.length;++f)v[f]=q.charCodeAt(f);return u=new C.Blob([v],{type:u[1]}),te.createObjectURL(u)}};return I=I.downloadURL=function(u,q){var v=C.navigator,f=L.createElement("a");if("string"==typeof u||u instanceof String||!v.msSaveOrOpenBlob){if(u=""+u,v=/Edge\/\d+/.test(v.userAgent),(A&&"string"==typeof u&&0===u.indexOf("data:application/pdf")||v||2e6<u.length)&&!(u=Z(u)||""))throw Error("Failed to convert to blob");if(typeof f.download<"u")f.href=u,f.download=q,L.body.appendChild(f),f.click(),L.body.removeChild(f);else try{var F=C.open(u,"chart");if(typeof F>"u"||null===F)throw Error("Failed to open window")}catch{C.location.href=u}}else v.msSaveOrOpenBlob(u,q)},{dataURLtoBlob:Z,downloadURL:I}}),e(g,"Extensions/ExportData.js",[g["Core/Axis/Axis.js"],g["Core/Chart/Chart.js"],g["Core/Renderer/HTML/AST.js"],g["Core/Globals.js"],g["Core/DefaultOptions.js"],g["Core/Utilities.js"],g["Extensions/DownloadURL.js"]],function(I,A,C,L,te,Z,u){function q(r,s){var a=F.navigator,p=-1<a.userAgent.indexOf("WebKit")&&0>a.userAgent.indexOf("Chrome"),h=F.URL||F.webkitURL||F;try{if(a.msSaveOrOpenBlob&&F.MSBlobBuilder){var w=new F.MSBlobBuilder;return w.append(r),w.getBlob("image/svg+xml")}if(!p)return h.createObjectURL(new F.Blob(["\ufeff"+r],{type:s}))}catch{}}var v=L.doc,f=L.seriesTypes,F=L.win;L=te.getOptions;var b=Z.addEvent,B=Z.defined,se=Z.extend,Ae=Z.find,ye=Z.fireEvent,Te=Z.isNumber,ce=Z.pick,k=u.downloadURL;(te=te.setOptions)({exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:"\n"},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table"}}),b(A,"render",function(){this.options&&this.options.exporting&&this.options.exporting.showTable&&!this.options.chart.forExport&&!this.dataTableDiv&&this.viewData()}),A.prototype.setUpKeyToAxis=function(){f.arearange&&(f.arearange.prototype.keyToAxis={low:"y",high:"y"}),f.gantt&&(f.gantt.prototype.keyToAxis={start:"x",end:"x"})},A.prototype.getDataRows=function(r){var T,s=this.hasParallelCoordinates,a=this.time,p=this.options.exporting&&this.options.exporting.csv||{},h=this.xAxis,w={},U=[],E=[],M=[],Q=this.options.lang.exportData,V=Q.categoryHeader,z=Q.categoryDatetimeHeader,J=function(d,N,ee){if(p.columnHeaderFormatter){var xe=p.columnHeaderFormatter(d,N,ee);if(!1!==xe)return xe}return d?d instanceof I?d.options.title&&d.options.title.text||(d.dateTime?z:V):r?{columnTitle:1<ee?N:d.name,topLevelColumnTitle:d.name}:d.name+(1<ee?" ("+N+")":""):V},X=function(d,N,ee){var xe={},pe={};return N.forEach(function(ve){var oe=(d.keyToAxis&&d.keyToAxis[ve]||ve)+"Axis";oe=Te(ee)?d.chart[oe][ee]:d[oe],xe[ve]=oe&&oe.categories||[],pe[ve]=oe&&oe.dateTime}),{categoryMap:xe,dateTimeValueAxisMap:pe}},H=[],j=0;for(O in this.setUpKeyToAxis(),this.series.forEach(function(d){var l,N=d.xAxis,ee=d.options.keys||function(d,N){return d.data.filter(function(ee){return typeof ee.y<"u"&&ee.name}).length&&N&&!N.categories&&!d.keyToAxis?d.pointArrayMap&&d.pointArrayMap.filter(function(ee){return"x"===ee}).length?(d.pointArrayMap.unshift("x"),d.pointArrayMap):["x","y"]:d.pointArrayMap||["y"]}(d,N),xe=ee.length,pe=!d.requireSorting&&{},ve=h.indexOf(N),oe=X(d,ee);if(!1!==d.options.includeInDataExport&&!d.options.isInternal&&!1!==d.visible){for(Ae(H,function(y){return y[0]===ve})||H.push([ve,j]),l=0;l<xe;)T=J(d,ee[l],ee.length),M.push(T.columnTitle||T),r&&E.push(T.topLevelColumnTitle||T),l++;var c={chart:d.chart,autoIncrement:d.autoIncrement,options:d.options,pointArrayMap:d.pointArrayMap};d.options.data.forEach(function(y,D){s&&(oe=X(d,ee,D));var P={series:c};d.pointClass.prototype.applyOptions.apply(P,[y]),y=P.x;var R=d.data[D]&&d.data[D].name;for(l=0,(!N||"name"===d.exportKey||!s&&N&&N.hasNames&&R)&&(y=R),pe&&(pe[y]&&(y+="|"+D),pe[y]=!0),w[y]||(w[y]=[],w[y].xValues=[]),w[y].x=P.x,w[y].name=R,w[y].xValues[ve]=P.x;l<xe;)w[y][j+l]=ce(oe.categoryMap[D=ee[l]][R=P[D]],oe.dateTimeValueAxisMap[D]?a.dateFormat(p.dateFormat,R):null,R),l++}),j+=l}}),w)Object.hasOwnProperty.call(w,O)&&U.push(w[O]);var O=r?[E,M]:[M];for(j=H.length;j--;){var ie=H[j][0],Y=H[j][1],le=h[ie];U.sort(function(d,N){return d.xValues[ie]-N.xValues[ie]}),Q=J(le),O[0].splice(Y,0,Q),r&&O[1]&&O[1].splice(Y,0,Q),U.forEach(function(d){var N=d.name;le&&!B(N)&&(le.dateTime?(d.x instanceof Date&&(d.x=d.x.getTime()),N=a.dateFormat(p.dateFormat,d.x)):N=le.categories?ce(le.names[d.x],le.categories[d.x],d.x):d.x),d.splice(Y,0,N)})}return O=O.concat(U),ye(this,"exportData",{dataRows:O}),O},A.prototype.getCSV=function(r){var s="",a=this.getDataRows(),p=this.options.exporting.csv,h=ce(p.decimalPoint,","!==p.itemDelimiter&&r?1.1.toLocaleString()[1]:"."),w=ce(p.itemDelimiter,","===h?";":","),U=p.lineDelimiter;return a.forEach(function(E,M){for(var T,Q=E.length;Q--;)"string"==typeof(T=E[Q])&&(T='"'+T+'"'),"number"==typeof T&&"."!==h&&(T=T.toString().replace(".",h)),E[Q]=T;s+=E.join(w),M<a.length-1&&(s+=U)}),s},A.prototype.getTable=function(r){var s=function(a){if(!a.tagName||"#text"===a.tagName)return a.textContent||"";var p=a.attributes,h="<"+a.tagName;return p&&Object.keys(p).forEach(function(w){h+=" "+w+'="'+p[w]+'"'}),h+=">",h+=a.textContent||"",(a.children||[]).forEach(function(w){h+=s(w)}),h+="</"+a.tagName+">"};return r=this.getTableAST(r),s(r)},A.prototype.getTableAST=function(r){var s=0,a=[],p=this.options,h=r?1.1.toLocaleString()[1]:".",w=ce(p.exporting.useMultiLevelHeaders,!0);r=this.getDataRows(w);var U=w?r.shift():null,E=r.shift(),M=function(z,J,X,$){var H=ce($,"");return J="text"+(J?" "+J:""),"number"==typeof H?(H=H.toString(),","===h&&(H=H.replace(".",h)),J="number"):$||(J="empty"),{tagName:z,attributes:X=se({class:J},X),textContent:H}};!1!==p.exporting.tableCaption&&a.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:ce(p.exporting.tableCaption,p.title.text?p.title.text:"Chart")});for(var T=0,Q=r.length;T<Q;++T)r[T].length>s&&(s=r[T].length);a.push(function(z,J,X){var $=[],H=0;X=X||J&&J.length;var O,j=0;if(O=w&&z&&J){e:if(O=z.length,J.length===O){for(;O--;)if(z[O]!==J[O]){O=!1;break e}O=!0}else O=!1;O=!O}if(O){for(O=[];H<X;++H){var ie=z[H],Y=z[H+1];ie===Y?++j:j?(O.push(M("th","highcharts-table-topheading",{scope:"col",colspan:j+1},ie)),j=0):(ie===J[H]?p.exporting.useRowspanHeaders?(Y=2,delete J[H]):(Y=1,J[H]=""):Y=1,ie=M("th","highcharts-table-topheading",{scope:"col"},ie),1<Y&&ie.attributes&&(ie.attributes.valign="top",ie.attributes.rowspan=Y),O.push(ie))}$.push({tagName:"tr",children:O})}if(J){for(O=[],H=0,X=J.length;H<X;++H)typeof J[H]<"u"&&O.push(M("th",null,{scope:"col"},J[H]));$.push({tagName:"tr",children:O})}return{tagName:"thead",children:$}}(U,E,Math.max(s,E.length)));var V=[];return r.forEach(function(z){for(var J=[],X=0;X<s;X++)J.push(M(X?"td":"th",null,X?{}:{scope:"row"},z[X]));V.push({tagName:"tr",children:J})}),a.push({tagName:"tbody",children:V}),ye(this,"aftergetTableAST",a={tree:{tagName:"table",id:"highcharts-data-table-"+this.index,children:a}}),a.tree},A.prototype.downloadCSV=function(){var r=this.getCSV(!0);k(q(r,"text/csv")||"data:text/csv,\ufeff"+encodeURIComponent(r),this.getFilename()+".csv")},A.prototype.downloadXLS=function(){var r='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e<style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";k(q(r,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+F.btoa(unescape(encodeURIComponent(r))),this.getFilename()+".xls")},A.prototype.viewData=function(){this.toggleDataTable(!0)},A.prototype.hideData=function(){this.toggleDataTable(!1)},A.prototype.toggleDataTable=function(r){(r=ce(r,!this.isDataTableVisible))&&!this.dataTableDiv&&(this.dataTableDiv=v.createElement("div"),this.dataTableDiv.className="highcharts-data-table",this.renderTo.parentNode.insertBefore(this.dataTableDiv,this.renderTo.nextSibling)),this.dataTableDiv&&(this.dataTableDiv.style.display=r?"block":"none",r&&(this.dataTableDiv.innerHTML=C.emptyHTML,new C([this.getTableAST()]).addToDOM(this.dataTableDiv),ye(this,"afterViewData",this.dataTableDiv))),this.isDataTableVisible=r,r=this.exportDivElements;var s=this.options.exporting,a=s&&s.buttons&&s.buttons.contextButton.menuItems;s=this.options.lang,n&&n.menuItemDefinitions&&s&&s.viewData&&s.hideData&&a&&r&&(r=r[a.indexOf("viewData")])&&C.setElementHTML(r,this.isDataTableVisible?s.hideData:s.viewData)};var n=L().exporting;n&&(se(n.menuItemDefinitions,{downloadCSV:{textKey:"downloadCSV",onclick:function(){this.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){this.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){this.toggleDataTable()}}}),n.buttons&&n.buttons.contextButton.menuItems.push("separator","downloadCSV","downloadXLS","viewData")),f.map&&(f.map.prototype.exportKey="name"),f.mapbubble&&(f.mapbubble.prototype.exportKey="name"),f.treemap&&(f.treemap.prototype.exportKey="name")}),e(g,"masters/modules/export-data.src.js",[],function(){})},_e.exports?(g.default=g,_e.exports=g):(ae=[W(3470),W(2112)],void 0!==(ge=function(e){return g(e),g.Highcharts=e,g}.apply(Ze,ae))&&(_e.exports=ge))},2112:(_e,Ze,W)=>{var ae,ge,g;g=function(g){function e(I,A,C,L){I.hasOwnProperty(A)||(I[A]=L.apply(null,C))}e(g=g?g._modules:{},"Extensions/FullScreen.js",[g["Core/Chart/Chart.js"],g["Core/Globals.js"],g["Core/Renderer/HTML/AST.js"],g["Core/Utilities.js"]],function(I,A,C,L){var te=L.addEvent;return L=function(){function Z(u){this.chart=u,this.isOpen=!1,u=u.renderTo,this.browserProps||("function"==typeof u.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:u.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:u.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:u.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return Z.prototype.close=function(){var u=this.chart,q=u.options.chart;this.isOpen&&this.browserProps&&u.container.ownerDocument instanceof Document&&u.container.ownerDocument[this.browserProps.exitFullscreen](),this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent()),u.setSize(this.origWidth,this.origHeight,!1),this.origHeight=this.origWidth=void 0,q.width=this.origWidthOption,q.height=this.origHeightOption,this.origHeightOption=this.origWidthOption=void 0,this.isOpen=!1,this.setButtonText()},Z.prototype.open=function(){var u=this,q=u.chart,v=q.options.chart;if(v&&(u.origWidthOption=v.width,u.origHeightOption=v.height),u.origWidth=q.chartWidth,u.origHeight=q.chartHeight,u.browserProps){var f=te(q.container.ownerDocument,u.browserProps.fullscreenChange,function(){u.isOpen?(u.isOpen=!1,u.close()):(q.setSize(null,null,!1),u.isOpen=!0,u.setButtonText())}),F=te(q,"destroy",f);u.unbindFullscreenEvent=function(){f(),F()},(v=q.renderTo[u.browserProps.requestFullscreen]())&&v.catch(function(){alert("Full screen is not supported inside a frame.")})}},Z.prototype.setButtonText=function(){var u=this.chart,q=u.exportDivElements,v=u.options.exporting,f=v&&v.buttons&&v.buttons.contextButton.menuItems;u=u.options.lang,v&&v.menuItemDefinitions&&u&&u.exitFullscreen&&u.viewFullscreen&&f&&q&&(q=q[f.indexOf("viewFullscreen")])&&C.setElementHTML(q,this.isOpen?u.exitFullscreen:v.menuItemDefinitions.viewFullscreen.text||u.viewFullscreen)},Z.prototype.toggle=function(){this.isOpen?this.close():this.open()},Z}(),A.Fullscreen=L,te(I,"beforeRender",function(){this.fullscreen=new A.Fullscreen(this)}),A.Fullscreen}),e(g,"Core/Chart/ChartNavigationComposition.js",[],function(){var I;return function(A){A.compose=function(L){return L.navigation||(L.navigation=new C(L)),L};var C=function(){function L(te){this.updates=[],this.chart=te}return L.prototype.addUpdate=function(te){this.chart.navigation.updates.push(te)},L.prototype.update=function(te,Z){var u=this;this.updates.forEach(function(q){q.call(u.chart,te,Z)})},L}();A.Additions=C}(I||(I={})),I}),e(g,"Extensions/Exporting/ExportingDefaults.js",[g["Core/Globals.js"]],function(I){return{exporting:{type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:"#333333",background:"none",fontSize:I.isTouchDevice?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"}}}}),e(g,"Extensions/Exporting/ExportingSymbols.js",[],function(){var I;return function(A){function C(Z,u,q,v){return[["M",Z,u+2.5],["L",Z+q,u+2.5],["M",Z,u+v/2+.5],["L",Z+q,u+v/2+.5],["M",Z,u+v-1.5],["L",Z+q,u+v-1.5]]}function L(Z,u,q,v){return Z=v/3-2,(v=[]).concat(this.circle(q-Z,u,Z,Z),this.circle(q-Z,u+Z+4,Z,Z),this.circle(q-Z,u+2*(Z+4),Z,Z))}var te=[];A.compose=function(Z){-1===te.indexOf(Z)&&(te.push(Z),(Z=Z.prototype.symbols).menu=C,Z.menuball=L.bind(Z))}}(I||(I={})),I}),e(g,"Core/HttpUtilities.js",[g["Core/Globals.js"],g["Core/Utilities.js"]],function(I,A){var C=I.doc,L=A.createElement,te=A.discardElement,Z=A.merge,u=A.objectEach,q={ajax:function(v){var f=Z(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},v);v={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"};var F=new XMLHttpRequest;if(!f.url)return!1;F.open(f.type.toUpperCase(),f.url,!0),f.headers["Content-Type"]||F.setRequestHeader("Content-Type",v[f.dataType]||v.text),u(f.headers,function(b,B){F.setRequestHeader(B,b)}),F.onreadystatechange=function(){if(4===F.readyState){if(200===F.status){var b=F.responseText;if("json"===f.dataType)try{b=JSON.parse(b)}catch(B){return void(f.error&&f.error(F,B))}return f.success&&f.success(b)}f.error&&f.error(F,F.responseText)}};try{f.data=JSON.stringify(f.data)}catch{}F.send(f.data||!0)},getJSON:function(v,f){q.ajax({url:v,success:f,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(v,f,F){var b=L("form",Z({method:"post",action:v,enctype:"multipart/form-data"},F),{display:"none"},C.body);u(f,function(B,se){L("input",{type:"hidden",name:se,value:B},null,b)}),b.submit(),te(b)}};return q}),e(g,"Extensions/Exporting/Exporting.js",[g["Core/Renderer/HTML/AST.js"],g["Core/Chart/Chart.js"],g["Core/Chart/ChartNavigationComposition.js"],g["Core/DefaultOptions.js"],g["Extensions/Exporting/ExportingDefaults.js"],g["Extensions/Exporting/ExportingSymbols.js"],g["Core/Globals.js"],g["Core/HttpUtilities.js"],g["Core/Utilities.js"]],function(I,A,C,L,te,Z,u,q,v){A=L.defaultOptions;var h,f=u.doc,F=u.win,b=v.addEvent,B=v.css,se=v.createElement,Ae=v.discardElement,ye=v.extend,Te=v.find,ce=v.fireEvent,k=v.isObject,n=v.merge,r=v.objectEach,s=v.pick,a=v.removeEvent,p=v.uniqueKey;return function(w){function U(l){var c=this,y=c.renderer,D=n(c.options.navigation.buttonOptions,l),P=D.onclick,R=D.menuItems,de=D.symbolSize||12;if(c.btnCount||(c.btnCount=0),c.exportDivElements||(c.exportDivElements=[],c.exportSVGElements=[]),!1!==D.enabled&&D.theme){var ue,_=D.theme,G=_.states,fe=G&&G.hover;G=G&&G.select,c.styledMode||(_.fill=s(_.fill,"#ffffff"),_.stroke=s(_.stroke,"none")),delete _.states,P?ue=function(K){K&&K.stopPropagation(),P.call(c,K)}:R&&(ue=function(K){K&&K.stopPropagation(),c.contextMenu(re.menuClassName,R,re.translateX,re.translateY,re.width,re.height,re),re.setState(2)}),D.text&&D.symbol?_.paddingLeft=s(_.paddingLeft,30):D.text||ye(_,{width:D.width,height:D.height,padding:0}),c.styledMode||(_["stroke-linecap"]="round",_.fill=s(_.fill,"#ffffff"),_.stroke=s(_.stroke,"none"));var re=y.button(D.text,0,0,ue,_,fe,G).addClass(l.className).attr({title:s(c.options.lang[D._titleKey||D.titleKey],"")});if(re.menuClassName=l.menuClassName||"highcharts-menu-"+c.btnCount++,D.symbol){var me=y.symbol(D.symbol,D.symbolX-de/2,D.symbolY-de/2,de,de,{width:de,height:de}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(re);c.styledMode||me.attr({stroke:D.symbolStroke,fill:D.symbolFill,"stroke-width":D.symbolStrokeWidth||1})}re.add(c.exportingGroup).align(ye(D,{width:re.width,x:s(D.x,c.buttonOffset)}),!0,"spacingBox"),c.buttonOffset+=(re.width+D.buttonSpacing)*("right"===D.align?-1:1),c.exportSVGElements.push(re,me)}}function E(){if(this.printReverseInfo){var l=this.printReverseInfo,c=l.childNodes,y=l.origDisplay;l=l.resetParams,this.moveContainers(this.renderTo),[].forEach.call(c,function(D,P){1===D.nodeType&&(D.style.display=y[P]||"")}),this.isPrinting=!1,l&&this.setSize.apply(this,l),delete this.printReverseInfo,oe=void 0,ce(this,"afterPrint")}}function M(){var l=f.body,c=this.options.exporting.printMaxWidth,y={childNodes:l.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),ce(this,"beforePrint"),c&&this.chartWidth>c&&(y.resetParams=[this.options.chart.width,void 0,!1],this.setSize(c,void 0,!1)),[].forEach.call(y.childNodes,function(D,P){1===D.nodeType&&(y.origDisplay[P]=D.style.display,D.style.display="none")}),this.moveContainers(l),this.printReverseInfo=y}function T(l){l.renderExporting(),b(l,"redraw",l.renderExporting),b(l,"destroy",l.destroyExport)}function Q(l,c,y,D,P,R,de){var _=this,G=_.options.navigation,fe=_.chartWidth,ue=_.chartHeight,re="cache-"+l,me=Math.max(P,R),K=_[re];if(!K){_.exportContextMenu=_[re]=K=se("div",{className:l},{position:"absolute",zIndex:1e3,padding:me+"px",pointerEvents:"auto"},_.fixedDiv||_.container);var De=se("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},K);_.styledMode||B(De,ye({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},G.menuStyle)),K.hideMenu=function(){B(K,{display:"none"}),de&&de.setState(0),_.openMenu=!1,B(_.renderTo,{overflow:"hidden"}),B(_.container,{overflow:"hidden"}),v.clearTimeout(K.hideTimer),ce(_,"exportMenuHidden")},_.exportEvents.push(b(K,"mouseleave",function(){K.hideTimer=F.setTimeout(K.hideMenu,500)}),b(K,"mouseenter",function(){v.clearTimeout(K.hideTimer)}),b(f,"mouseup",function(he){_.pointer.inClass(he.target,l)||K.hideMenu()}),b(K,"click",function(){_.openMenu&&K.hideMenu()})),c.forEach(function(he){if("string"==typeof he&&(he=_.options.exporting.menuItemDefinitions[he]),k(he,!0)){var Ce=void 0;he.separator?Ce=se("hr",void 0,void 0,De):("viewData"===he.textKey&&_.isDataTableVisible&&(he.textKey="hideData"),Ce=se("li",{className:"highcharts-menu-item",onclick:function(we){we&&we.stopPropagation(),K.hideMenu(),he.onclick&&he.onclick.apply(_,arguments)}},void 0,De),I.setElementHTML(Ce,he.text||_.options.lang[he.textKey]),_.styledMode||(Ce.onmouseover=function(){B(this,G.menuItemHoverStyle)},Ce.onmouseout=function(){B(this,G.menuItemStyle)},B(Ce,ye({cursor:"pointer"},G.menuItemStyle)))),_.exportDivElements.push(Ce)}}),_.exportDivElements.push(De,K),_.exportMenuWidth=K.offsetWidth,_.exportMenuHeight=K.offsetHeight}c={display:"block"},y+_.exportMenuWidth>fe?c.right=fe-y-P-me+"px":c.left=y-me+"px",D+R+_.exportMenuHeight>ue&&"top"!==de.alignOptions.verticalAlign?c.bottom=ue-D-me+"px":c.top=D+R-me+"px",B(K,c),B(_.renderTo,{overflow:""}),B(_.container,{overflow:""}),_.openMenu=!0,ce(_,"exportMenuShown")}function V(l){var P,c=l?l.target:this,y=c.exportSVGElements,D=c.exportDivElements;l=c.exportEvents,y&&(y.forEach(function(R,de){R&&(R.onclick=R.ontouchstart=null,c[P="cache-"+R.menuClassName]&&delete c[P],y[de]=R.destroy())}),y.length=0),c.exportingGroup&&(c.exportingGroup.destroy(),delete c.exportingGroup),D&&(D.forEach(function(R,de){R&&(v.clearTimeout(R.hideTimer),a(R,"mouseleave"),D[de]=R.onmouseout=R.onmouseover=R.ontouchstart=R.onclick=null,Ae(R))}),D.length=0),l&&(l.forEach(function(R){R()}),l.length=0)}function z(l,c){c=this.getSVGForExport(l,c),l=n(this.options.exporting,l),q.post(l.url,{filename:l.filename?l.filename.replace(/\//g,"-"):this.getFilename(),type:l.type,width:l.width||0,scale:l.scale,svg:c},l.formAttributes)}function J(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function X(){var l=this.userOptions.title&&this.userOptions.title.text,c=this.options.exporting.filename;return c?c.replace(/\//g,"-"):("string"==typeof l&&(c=l.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!c||5>c.length)&&(c="chart"),c)}function $(l){var c,y=n(this.options,l);y.plotOptions=n(this.userOptions.plotOptions,l&&l.plotOptions),y.time=n(this.userOptions.time,l&&l.time);var D=se("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},f.body),P=this.renderTo.style.width,R=this.renderTo.style.height;P=y.exporting.sourceWidth||y.chart.width||/px$/.test(P)&&parseInt(P,10)||(y.isGantt?800:600),R=y.exporting.sourceHeight||y.chart.height||/px$/.test(R)&&parseInt(R,10)||400,ye(y.chart,{animation:!1,renderTo:D,forExport:!0,renderer:"SVGRenderer",width:P,height:R}),y.exporting.enabled=!1,delete y.data,y.series=[],this.series.forEach(function(G){(c=n(G.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:G.visible})).isInternal||y.series.push(c)});var de={};this.axes.forEach(function(G){G.userOptions.internalKey||(G.userOptions.internalKey=p()),G.options.isInternal||(de[G.coll]||(de[G.coll]=!0,y[G.coll]=[]),y[G.coll].push(n(G.userOptions,{visible:G.visible})))});var _=new this.constructor(y,this.callback);return l&&["xAxis","yAxis","series"].forEach(function(G){var fe={};l[G]&&(fe[G]=l[G],_.update(fe))}),this.axes.forEach(function(G){var fe=Te(_.axes,function(me){return me.options.internalKey===G.userOptions.internalKey}),ue=G.getExtremes(),re=ue.userMin;ue=ue.userMax,fe&&(typeof re<"u"&&re!==fe.min||typeof ue<"u"&&ue!==fe.max)&&fe.setExtremes(re,ue,!0,!1)}),R=_.getChartHTML(),ce(this,"getSVG",{chartCopy:_}),R=this.sanitizeSVG(R,y),y=null,_.destroy(),Ae(D),R}function H(l,c){var y=this.options.exporting;return this.getSVG(n({chart:{borderRadius:0}},y.chartOptions,c,{exporting:{sourceWidth:l&&l.sourceWidth||y.sourceWidth,sourceHeight:l&&l.sourceHeight||y.sourceHeight}}))}function j(l){return l.replace(/([A-Z])/g,function(c,y){return"-"+y.toLowerCase()})}function O(){var P,c=xe,y=w.inlineWhitelist,D={},R=f.createElement("iframe");B(R,{width:"1px",height:"1px",visibility:"hidden"}),f.body.appendChild(R);var de=R.contentWindow.document;de.open(),de.write('<svg xmlns="http://www.w3.org/2000/svg"></svg>'),de.close(),function l(_){function G(we,Se){if(ue=re=!1,y.length){for(me=y.length;me--&&!re;)re=y[me].test(Se);ue=!re}for("transform"===Se&&"none"===we&&(ue=!0),me=c.length;me--&&!ue;)ue=c[me].test(Se)||"function"==typeof we;ue||De[Se]===we&&"svg"!==_.nodeName||D[_.nodeName][Se]===we||(pe&&-1===pe.indexOf(Se)?fe+=j(Se)+":"+we+";":we&&_.setAttribute(j(Se),we))}var ue,re,me,fe="";if(1===_.nodeType&&-1===ve.indexOf(_.nodeName)){var K=F.getComputedStyle(_,null),De="svg"===_.nodeName?{}:F.getComputedStyle(_.parentNode,null);if(!D[_.nodeName]){P=de.getElementsByTagName("svg")[0];var he=de.createElementNS(_.namespaceURI,_.nodeName);P.appendChild(he),D[_.nodeName]=n(F.getComputedStyle(he,null)),"text"===_.nodeName&&delete D.text.fill,P.removeChild(he)}if(u.isFirefox||u.isMS)for(var Ce in K)G(K[Ce],Ce);else r(K,G);fe&&(K=_.getAttribute("style"),_.setAttribute("style",(K?K+";":"")+fe)),"svg"===_.nodeName&&_.setAttribute("stroke-width","1px"),"text"!==_.nodeName&&[].forEach.call(_.children||_.childNodes,l)}}(this.container.querySelector("svg")),P.parentNode.removeChild(P),R.parentNode.removeChild(R)}function ie(l){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(c){l.appendChild(c)})}function Y(){var l=this;l.exporting={update:function(c,y){l.isDirtyExporting=!0,n(!0,l.options.exporting,c),s(y,!0)&&l.redraw()}},C.compose(l).navigation.addUpdate(function(c,y){l.isDirtyExporting=!0,n(!0,l.options.navigation,c),s(y,!0)&&l.redraw()})}function le(){var l=this;l.isPrinting||(oe=l,u.isSafari||l.beforePrint(),setTimeout(function(){F.focus(),F.print(),u.isSafari||setTimeout(function(){l.afterPrint()},1e3)},1))}function d(){var l=this,c=l.options.exporting,y=c.buttons,D=l.isDirtyExporting||!l.exportSVGElements;l.buttonOffset=0,l.isDirtyExporting&&l.destroyExport(),D&&!1!==c.enabled&&(l.exportEvents=[],l.exportingGroup=l.exportingGroup||l.renderer.g("exporting-group").attr({zIndex:3}).add(),r(y,function(P){l.addButton(P)}),l.isDirtyExporting=!1)}function N(l,c){var y=l.indexOf("</svg>")+6,D=l.substr(y);return l=l.substr(0,y),c&&c.exporting&&c.exporting.allowHTML&&D&&(D='<foreignObject x="0" y="0" width="'+c.chart.width+'" height="'+c.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+D.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",l=l.replace("</svg>",D+"</svg>")),l=l.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad"),this.ieSanitizeSVG&&(l=this.ieSanitizeSVG(l)),l}var ee=[],xe=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/],pe="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");w.inlineWhitelist=[];var oe,ve=["clipPath","defs","desc"];w.compose=function(l,c){Z.compose(c),-1===ee.indexOf(l)&&(ee.push(l),(c=l.prototype).afterPrint=E,c.exportChart=z,c.inlineStyles=O,c.print=le,c.sanitizeSVG=N,c.getChartHTML=J,c.getSVG=$,c.getSVGForExport=H,c.getFilename=X,c.moveContainers=ie,c.beforePrint=M,c.contextMenu=Q,c.addButton=U,c.destroyExport=V,c.renderExporting=d,c.callbacks.push(T),b(l,"init",Y),u.isSafari&&u.win.matchMedia("print").addListener(function(y){oe&&(y.matches?oe.beforePrint():oe.afterPrint())}))}}(h||(h={})),A.exporting=n(te.exporting,A.exporting),A.lang=n(te.lang,A.lang),A.navigation=n(te.navigation,A.navigation),h}),e(g,"masters/modules/exporting.src.js",[g["Core/Globals.js"],g["Extensions/Exporting/Exporting.js"],g["Core/HttpUtilities.js"]],function(I,A,C){I.HttpUtilities=C,I.ajax=C.ajax,I.getJSON=C.getJSON,I.post=C.post,A.compose(I.Chart,I.Renderer)})},_e.exports?(g.default=g,_e.exports=g):(ae=[W(3470)],void 0!==(ge=function(e){return g(e),g.Highcharts=e,g}.apply(Ze,ae))&&(_e.exports=ge))}}]);